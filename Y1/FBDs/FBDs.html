<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Body Diagrams - Interactive Lecture</title>
    <!-- Import the p5.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <!-- Import MathJax for LaTeX rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
    <!-- Import React and ReactDOM -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <!-- External CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/problems.css">
    <link rel="stylesheet" href="/assets/css/quizzes.css">
    <link rel="stylesheet" href="/assets/css/simulations.css">
    <link rel="stylesheet" href="/assets/css/uicontrols.css">
    <!-- Simulation scripts -->
    <script src="ladderSimulation.js" defer></script>
    <script src="pulleyBeamSimulation.js" defer></script>
    <script src="trafficLightSimulation.js" defer></script>
</head>

<body>
    <header>
        <h1>Free Body Diagrams</h1>
        <p class="subtitle">Understanding Forces and Constraints</p>
    </header>

    <div class="content-section">
        <h2>What is a Free Body Diagram?</h2>
        <p>A Free Body Diagram (FBD) is a graphical representation used to visualise all the forces acting on a body. It's a fundamental tool in engineering mechanics that helps:</p>
        <ul>
            <li>Identify all forces acting on an object</li>
            <li>Establish coordinate systems for analysis</li>
            <li>Apply equilibrium equations systematically</li>
            <li>Solve for unknown forces and reactions</li>
        </ul>

        <div class="key-point">
            <p><strong>Key Principle:</strong> A free body diagram shows a body isolated from its surroundings with all external forces and moments acting upon it.</p>
            <p>Internal forces and kinematic quantities such as displacements, velocities, accelerations are NEVER shown on FBDs.</p>
        </div>

        <h2>Active Forces</h2>
        <p>Active forces are externally applied loads that act on a structure or body. These include:</p>

        <h3>1. Concentrated Loads</h3>
        <div class="equation-box">
            <p><strong>Point Forces:</strong> Forces applied at a specific point</p>
            <p>Notation: \(\vec{F} = F_x \hat{i} + F_y \hat{j}\) (in 2D)</p>
            <p><strong>Point Moments:</strong> Couples or torques applied at a point</p>
            <p>Notation: \(M\hat{k}\) (anticlockwise positive in 2D)</p>
        </div>

        <h3>2. Distributed Loads</h3>
        <div class="equation-box">
            <p><strong>Uniformly Distributed Load (UDL):</strong></p>
            <p>Load intensity: \(w\) (force per unit length) \([\text{ N/m}]\)</p>
            <p>Resultant force: \(F = w \cdot L\)</p>
            <p>Location: Acts at the centroid of the distribution</p>
            
            <p><strong>Linearly Varying Load:</strong></p>
            <p>Load intensity: \(w(x) = w_0 + \frac{w_1 - w_0}{L}x\)</p>
            <p>Resultant: \(F = \frac{1}{2}(w_0 + w_1) \cdot L\)</p>
        </div>

        <h3>3. Gravitational Load</h3>
        <div class="equation-box">
            <p>Weight force: \(\vec{W} = m\vec{g}\)</p>
            <p>Acts at the centre of mass of the body</p>
            <p>Always acts vertically downward</p>
            <p>Magnitude: \(W = mg\) where \(g = 9.81 \text{ m/s}^2\)</p>
        </div>

        <h2>Reactive Forces (Support Reactions)</h2>
        <p>Reactive forces are the forces that develop at supports or constraints in response to applied loads. Understanding these is crucial for structural analysis.</p>

        <h3>Common 2D Support Types</h3>
        
        <div class="key-point">
            <h3>1. Roller Support (Simple Support)</h3>
            <ul>
                <li>Prevents movement perpendicular to the surface</li>
                <li>Allows movement parallel to the surface</li>
                <li>Allows rotation</li>
                <strong>Provides:</strong> 1 reaction force (perpendicular to surface)
            </ul>
        </div>

        <div class="key-point">
            <h3>2. Pin Support (Hinged Support)</h3>
            <ul>
                <li>Prevents all translational movement</li>
                <li>Allows rotation</li>
                <strong>Provides:</strong> any 2 perpendicular reaction forces (usually horizontal and vertical)
            </ul>
        </div>

        <div class="key-point">
            <h3>3. Fixed Support (Built-in/Clamped)</h3>
            <ul>
                <li>Prevents rotation</li>
                <li>Prevents all translational movement</li>
                <strong>Provides:</strong> 2 reaction forces and 1 reaction moment
            </ul>
        </div>

        <div class="key-point">
            <h3>4. Collar Support</h3>
            <ul>
                <li>Prevents movement perpendicular to the guide</li>
                <li>Prevents rotation</li>
                <li>Allows movement along a guide</li>
                <strong>Provides:</strong> 1 reaction force (perpendicular) and 1 reaction moment
            </ul>
        </div>

        <h3>Contact Conditions</h3>

        <div class="key-point">
            <h3>5. Smooth Contact</h3>
            <ul>
                <li>Frictionless surface</li>
                <li>Can only provide force perpendicular to the contact surface</li>
                <li>Cannot resist tangential (parallel) forces</li>
                <strong>Provides:</strong> 1 normal reaction force (perpendicular to surface)
            </ul>
        </div>

        <div class="key-point">
            <h3>6. Rough Contact</h3>
            <ul>
                <li>Surface with friction</li>
                <li>Provides force perpendicular to surface (normal force)</li>
                <li>Can resist tangential motion through friction</li>
                <strong>Provides:</strong> 1 normal force and 1 friction force (f ≤ μN)
            </ul>
        </div>
    </div>

    <!-- SIMULATION 1: Ladder Equilibrium -->
    <div class="simulation-section">
        <h2>Simulation 1: Ladder Equilibrium (Smooth and Rough Contact)</h2>
        <p>This simulation demonstrates a classic equilibrium problem: a ladder leaning against a smooth (frictionless) wall, with its base on rough (friction) ground. A person stands on the ladder. Explore how friction at the ground prevents the ladder from slipping.</p>

        <div id="ladder-sketch"></div>

        <div class="interactive-controls">
            <h3>Controls</h3>
            <div class="control-group">
                <label>Ladder Angle (degrees from horizontal): <span id="angle-value">60</span></label>
                <div id="ladder-controls"></div>
            </div>
            <div class="control-group">
                <label>Coefficient of Friction at Ground (μ): <span id="mu-value">0.50</span></label>
            </div>
            <div class="control-group">
                <label>Person Mass (kg): <span id="person-mass-value">70</span></label>
            </div>
            <div class="control-group">
                <label>Person Position (% from bottom): <span id="person-pos-value">70</span></label>
            </div>
            <div class="control-group">
                <label>Select FBD to display:</label>
                <div id="ladder-fbd-selector"></div>
            </div>
        </div>

        <h3>Key Concepts</h3>
        <ul>
            <li><strong>Smooth Contact (Wall):</strong> Provides only a normal force perpendicular to the surface. No friction.</li>
            <li><strong>Rough Contact (Ground):</strong> Provides both a normal force and a friction force parallel to the surface.</li>
            <li><strong>Friction Requirement:</strong> For equilibrium, the required friction force must not exceed \(f_{max} = \mu_s N\).</li>
            <li><strong>Three Equilibrium Equations:</strong> \(\sum F_x = 0\), \(\sum F_y = 0\), and \(\sum M = 0\) must all be satisfied.</li>
        </ul>
    </div>

    <div class="content-section">
        <h3>Special Force Types</h3>
        
        <div class="equation-box">
            <h4>Normal Force</h4>
            <p>Acts perpendicular to the contact surface</p>
            <p>Always pushes (never pulls)</p>
            <p>Magnitude: \(N \geq 0\)</p>
        </div>

        <div class="equation-box">
            <h4>Friction Force</h4>
            <p><strong>Static Friction:</strong> \(f_s \leq \mu_s N\)</p>
            <p><strong>Kinetic Friction:</strong> \(f_k = \mu_k N\)</p>
            <p>Where \(\mu_s\) and \(\mu_k\) are coefficients of friction</p>
            <p>Acts parallel to the contact surface, opposing relative motion</p>
        </div>

        <div class="equation-box">
            <h4>Cable and Rope Forces</h4>
            <p>Can only pull (tension), never push</p>
            <p>Acts along the line of the cable/rope</p>
            <p>Magnitude: \(T \geq 0\)</p>
            <p>For massless cables: tension is constant throughout</p>
        </div>

        <div class="equation-box">
            <h4>Spring Forces</h4>
            <p><strong>Hooke's Law:</strong> \(F = k \Delta x\)</p>
            <p>Where \(k\) is the spring constant (stiffness) and \(\Delta x\) is the extension/compression</p>
            <p>Springs can both pull (tension) and push (compression)</p>
            <p>Force is proportional to deformation from natural length</p>
        </div>
    </div>

    <!-- SIMULATION 2: Pulley and Beam with Distributed Load -->
    <div class="simulation-section">
        <h2>Simulation 2: Pulley System with Beam Weight</h2>
        <p>This simulation shows a horizontal pinned beam with weight (distributed uniformly along its length), lifted by a cable that wraps around a pulley and goes horizontally to a wall. The cable force must equal half the beam weight to maintain equilibrium.</p>

        <div id="pulley-sketch"></div>

        <div class="interactive-controls">
            <h3>Controls</h3>
            <div class="control-group">
                <label>Beam Weight (N): <span id="beam-weight-value">500</span></label>
                <div id="pulley-controls"></div>
            </div>
            <div class="control-group">
                <label>Select FBD to display:</label>
                <div id="pulley-fbd-selector"></div>
            </div>
        </div>

        <h3>Key Concepts</h3>
        <ul>
            <li><strong>Beam Weight as Distributed Load:</strong> The weight of a uniform beam acts as a uniformly distributed load (UDL) along its entire length.</li>
            <li><strong>UDL Resultant:</strong> The resultant of a uniformly distributed load acts at the centroid (center) of the beam.</li>
            <li><strong>Cable Forces:</strong> Cables can only pull (never push). The force is transmitted through the cable.</li>
            <li><strong>Pulleys:</strong> Redirect the direction of cable forces. For massless, frictionless pulleys, the force magnitude remains constant throughout the cable.</li>
            <li><strong>Pin Support:</strong> Provides two reaction force components but allows rotation.</li>
            <li><strong>Moment Equilibrium:</strong> For a horizontal beam, taking moments about the pin: \(F \cdot L = W \cdot \frac{L}{2}\), which gives \(F = \frac{W}{2}\). The cable force equals half the beam weight.</li>
            <li><strong>Force Equilibrium:</strong> The horizontal cable to the wall requires a horizontal pin reaction \(A_x = F\), while the vertical pin reaction is \(A_y = W - F = \frac{W}{2}\).</li>
        </ul>
    </div>

    <!-- SIMULATION 3: Traffic Light with Springs -->
    <div class="simulation-section">
        <h2>Simulation 3: Traffic Light Suspended by Springs</h2>
        <p>This simulation demonstrates a traffic light suspended by two springs at 45° angles. It shows how spring forces follow Hooke's Law and how the system reaches equilibrium based on spring stiffness and the weight of the traffic light.</p>

        <div id="traffic-sketch"></div>

        <div class="interactive-controls">
            <h3>Controls</h3>
            <div class="control-group">
                <label>Spring 1 Stiffness k₁ (N/m): <span id="k1-value">1</span></label>
                <div id="traffic-controls"></div>
            </div>
            <div class="control-group">
                <label>Spring 2 Stiffness k₂ (N/m): <span id="k2-value">1</span></label>
            </div>
            <div class="control-group">
                <label>Traffic Light Mass (kg): <span id="mass-value">20</span></label>
            </div>
        </div>

        <h3>Key Concepts</h3>
        <ul>
            <li><strong>Spring Forces (Hooke's Law):</strong> Force is proportional to extension: \(F = k \Delta x\)</li>
            <li><strong>Spring Stiffness (k):</strong> Measures how much force is needed to extend/compress a spring by unit length.</li>
            <li><strong>Equilibrium Position:</strong> The traffic light settles at a height where the vertical components of spring tensions balance its weight.</li>
            <li><strong>Force Resolution:</strong> Springs pull at angles, so forces must be resolved into components.</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>Steps for Drawing Free Body Diagrams</h2>
        
        <div class="key-point">
            <h3>Systematic Approach</h3>
            <ol>
                <li><strong>Isolate the body:</strong> Draw the object separated from its surroundings</li>
                <li><strong>Add active forces:</strong> Show all applied loads (forces, moments, weight)</li>
                <li><strong>Replace supports:</strong> Replace each support with its reaction forces/moments</li>
                <li><strong>Label everything:</strong> Add clear labels and coordinate system</li>
            </ol>
        </div>

        <h2>Equilibrium Equations</h2>
        <p>For a body in static equilibrium, the following conditions must be satisfied:</p>
        
        <div class="equation-box">
            <p><strong>Force Equilibrium:</strong></p>
            <p>\(\sum F_x = 0\) (Sum of horizontal forces = 0)</p>
            <p>\(\sum F_y = 0\) (Sum of vertical forces = 0)</p>
            <p><strong>Moment Equilibrium:</strong></p>
            <p>\(\sum M_O = 0\) (Sum of moments about any point O = 0)</p>
        </div>

        <h2>Common Mistakes to Avoid</h2>
        <ul>
            <li><strong>Missing forces:</strong> Forgetting weight or applied loads</li>
            <li><strong>Wrong reaction directions:</strong> Incorrect support reaction components</li>
            <li><strong>Internal forces shown:</strong> FBDs show only external forces</li>
            <li><strong>Incorrect friction direction:</strong> Friction opposes relative motion</li>
            <li><strong>Cable compression:</strong> Cables can only be in tension</li>
        </ul>

        <h2>Advanced Topics</h2>

        <h3>Two-Force Members</h3>
        <p>When a body is in equilibrium under exactly two forces:</p>
        <div class="key-point">
            <ul>
                <li>The forces must be equal in magnitude</li>
                <li>The forces must be opposite in direction</li>
                <li>The forces must be collinear (act along the same line)</li>
                <li>Examples: simple links, cables, struts</li>
            </ul>
        </div>

        <h3>Three-Force Members</h3>
        <p>When a body is in equilibrium under exactly three forces:</p>
        <div class="key-point">
            <ul>
                <li>The three forces must be concurrent (meet at a point), OR</li>
                <li>The three forces must be parallel</li>
                <li>This principle helps simplify many FBD problems</li>
            </ul>
        </div>

        <h3>Statically Determinate vs Indeterminate</h3>
        <div class="equation-box">
            <p><strong>Degree of Static Indeterminacy:</strong></p>
            <p>DSI = Number of unknowns - Number of equilibrium equations</p>
            <p>If DSI = 0: Statically determinate (can solve using statics alone)</p>
            <p>If DSI > 0: Statically indeterminate (requires additional compatibility equations)</p>
            <p>If DSI < 0: Mechanism (unstable structure)</p>
        </div>

        <h2>Engineering Applications</h2>
        <p>Free body diagrams are fundamental tools used across all branches of engineering and physics:</p>
        <ul>
            <li><strong>Structural Engineering:</strong> Analyzing forces in buildings, bridges, and trusses to ensure safe design and determine member sizes. FBDs help identify critical load paths and potential failure modes.</li>
            <li><strong>Mechanical Engineering:</strong> Designing machine components like gears, linkages, and bearings. FBDs are essential for calculating required strengths and selecting appropriate materials.</li>
            <li><strong>Aerospace Engineering:</strong> Analyzing aircraft components during flight, landing gear design, and wing loading. FBDs help engineers understand complex force distributions in three dimensions.</li>
            <li><strong>Biomechanics:</strong> Studying forces in human joints, muscles, and bones. Medical devices like prosthetics and orthopedic implants are designed using FBD analysis.</li>
            <li><strong>Vehicle Dynamics:</strong> Analyzing suspension systems, braking forces, and cornering behavior. FBDs help optimize handling, safety, and comfort.</li>
            <li><strong>Robotics:</strong> Determining actuator requirements and joint forces in robotic arms and mobile robots. FBDs ensure robots can perform required tasks safely.</li>
        </ul>

        <h2>Summary of Key Equations</h2>
        <div class="key-point">
            <h3>Essential Concepts</h3>
            <p>Free Body Diagrams are fundamental tools in engineering mechanics that allow us to systematically analyze forces and achieve equilibrium. Here are the key takeaways from this lecture:</p>

            <h4>1. What is a Free Body Diagram?</h4>
            <ul>
                <li>A graphical representation showing a body isolated from its surroundings</li>
                <li>Shows ALL external forces and moments acting on the body</li>
                <li>Does NOT show internal forces, velocities, or accelerations</li>
            </ul>

            <h4>2. Types of Forces</h4>
            <ul>
                <li><strong>Active Forces:</strong> Externally applied loads (point forces, moments, distributed loads, weight)</li>
                <li><strong>Reactive Forces:</strong> Forces from supports and constraints (normal forces, friction, support reactions)</li>
                <li><strong>Special Forces:</strong> Cables (tension only), springs (Hooke's Law: F = kΔx), normal forces (perpendicular to surface)</li>
            </ul>

            <h4>3. Support Types (2D)</h4>
            <ul>
                <li><strong>Roller:</strong> 1 reaction (perpendicular to surface), allows translation and rotation</li>
                <li><strong>Pin:</strong> 2 reactions (horizontal and vertical), allows rotation</li>
                <li><strong>Fixed:</strong> 2 reactions + 1 moment, prevents all movement and rotation</li>
                <li><strong>Collar:</strong> 1 reaction + 1 moment, allows translation along guide</li>
            </ul>

            <h4>4. Contact Conditions</h4>
            <ul>
                <li><strong>Smooth Contact:</strong> Frictionless surface providing only normal force perpendicular to surface</li>
                <li><strong>Rough Contact:</strong> Surface with friction providing both normal and friction forces (f ≤ μN)</li>
            </ul>

            <h4>5. Equilibrium Conditions (2D)</h4>
            <p>For a body in static equilibrium, three equations must be satisfied:</p>
            <ul>
                <li>\(\sum F_x = 0\) - Sum of horizontal forces equals zero</li>
                <li>\(\sum F_y = 0\) - Sum of vertical forces equals zero</li>
                <li>\(\sum M_O = 0\) - Sum of moments about any point O equals zero</li>
            </ul>

            <h4>6. Systematic FBD Drawing Procedure</h4>
            <ol>
                <li>Isolate the body of interest from its surroundings</li>
                <li>Draw the body's outline or simplified representation</li>
                <li>Add all active forces (applied loads, weight, moments)</li>
                <li>Replace supports with their reaction forces/moments</li>
                <li>Add coordinate system and label all forces clearly</li>
                <li>Apply equilibrium equations to solve for unknowns</li>
            </ol>

            <h4>7. Key Principles to Remember</h4>
            <ul>
                <li>Distributed loads can be replaced by their resultant at the centroid</li>
                <li>Massless cables have constant tension throughout</li>
                <li>Pulleys redirect cable forces but maintain tension (if massless and frictionless)</li>
                <li>Two-force members have equal, opposite, collinear forces</li>
                <li>Three-force members have concurrent or parallel forces</li>
                <li>Check static determinacy: compare unknowns vs. available equations</li>
            </ul>
        </div>

        <h2>Practice Problems</h2>
        
        <div class="practice-problems">
            <h3>Problem 1: Simply Supported Beam</h3>
            <p>A 6-metre beam is simply supported at both ends. It carries a uniformly distributed load of 10 kN/m and a point load of 20 kN at 2 metres from the left support. Draw the free body diagram and calculate the support reactions.</p>
            
            <p class="toggle-section" onclick="toggleSolution('solution1')">Show Solution</p>
            <div id="solution1" class="hidden">
                <p><strong>Given:</strong></p>
                <ul>
                    <li>Beam length: L = 6 m</li>
                    <li>UDL: w = 10 kN/m</li>
                    <li>Point load: P = 20 kN at x = 2 m</li>
                </ul>
                
                <p><strong>FBD includes:</strong></p>
                <ul>
                    <li>Point load: 20 kN downward at 2 m</li>
                    <li>UDL resultant: 60 kN downward at 3 m (centre)</li>
                    <li>Reaction at A: R_A (upward)</li>
                    <li>Reaction at B: R_B (upward)</li>
                </ul>
                
                <p><strong>Equilibrium equations:</strong></p>
                <p>Taking moments about A:</p>
                <p>\(\sum M_A = 0\): \(R_B \times 6 - 20 \times 2 - 60 \times 3 = 0\)</p>
                <p>\(R_B = \frac{40 + 180}{6} = 36.67 \text{ kN}\)</p>
                
                <p>Vertical equilibrium:</p>
                <p>\(\sum F_y = 0\): \(R_A + R_B - 20 - 60 = 0\)</p>
                <p>\(R_A = 80 - 36.67 = 43.33 \text{ kN}\)</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 2: Cantilever Beam</h3>
            <p>A 4-metre cantilever beam is fixed at one end and free at the other. It carries a linearly varying load from 0 at the fixed end to 12 kN/m at the free end. Find the reactions at the fixed support.</p>
            
            <p class="toggle-section" onclick="toggleSolution('solution2')">Show Solution</p>
            <div id="solution2" class="hidden">
                <p><strong>Given:</strong></p>
                <ul>
                    <li>Beam length: L = 4 m</li>
                    <li>Triangular load: 0 to 12 kN/m</li>
                </ul>
                
                <p><strong>Load resultant:</strong></p>
                <p>Magnitude: \(F = \frac{1}{2} \times 12 \times 4 = 24 \text{ kN}\)</p>
                <p>Location: \(\frac{2}{3} \times 4 = 2.67 \text{ m from fixed end}\)</p>
                
                <p><strong>Reactions at fixed support:</strong></p>
                <p>Vertical reaction: \(R_y = 24 \text{ kN (upward)}\)</p>
                <p>Horizontal reaction: \(R_x = 0\) (no horizontal loads)</p>
                <p>Moment reaction: \(M = 24 \times 2.67 = 64 \text{ kN·m (anticlockwise)}\)</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 3: Inclined Member with Friction</h3>
            <p>A 100 kg block rests on a 30° incline. The coefficient of static friction is 0.3. Draw the FBD and determine if the block will slide.</p>

            <p class="toggle-section" onclick="toggleSolution('solution3')">Show Solution</p>
            <div id="solution3" class="hidden">
                <p><strong>Given:</strong></p>
                <ul>
                    <li>Mass: m = 100 kg</li>
                    <li>Angle: θ = 30°</li>
                    <li>μ_s = 0.3</li>
                </ul>

                <p><strong>Forces on FBD:</strong></p>
                <ul>
                    <li>Weight: W = 981 N (downward)</li>
                    <li>Normal force: N (perpendicular to incline)</li>
                    <li>Friction: f (up the incline)</li>
                </ul>

                <p><strong>Force components:</strong></p>
                <p>Perpendicular to incline: \(N = W \cos 30° = 981 \times 0.866 = 849.5 \text{ N}\)</p>
                <p>Parallel to incline: \(W \sin 30° = 981 \times 0.5 = 490.5 \text{ N}\)</p>

                <p><strong>Maximum static friction:</strong></p>
                <p>\(f_{max} = \mu_s N = 0.3 \times 849.5 = 254.9 \text{ N}\)</p>

                <p><strong>Conclusion:</strong></p>
                <p>Since \(W \sin 30° = 490.5 \text{ N} > f_{max} = 254.9 \text{ N}\)</p>
                <p>The block will slide down the incline.</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 4: Ladder Against a Smooth Wall</h3>
            <p>A uniform 5-metre ladder of mass 20 kg leans against a smooth vertical wall at an angle of 60° from the horizontal ground. A person of mass 80 kg stands at 70% of the ladder's length from the bottom. If the coefficient of static friction at the ground is 0.4, will the ladder slip?</p>

            <p class="toggle-section" onclick="toggleSolution('solution4')">Show Solution</p>
            <div id="solution4" class="hidden">
                <p><strong>Given:</strong></p>
                <ul>
                    <li>Ladder length: L = 5 m</li>
                    <li>Ladder mass: m_L = 20 kg, person mass: m_P = 80 kg</li>
                    <li>Angle: θ = 60° from horizontal</li>
                    <li>Person position: 70% from bottom = 0.7L</li>
                    <li>μ_s = 0.4 at ground</li>
                </ul>

                <p><strong>Forces on FBD:</strong></p>
                <ul>
                    <li>Weight of ladder: W_L = 20 × 9.81 = 196.2 N (at L/2 = 2.5 m)</li>
                    <li>Weight of person: W_P = 80 × 9.81 = 784.8 N (at 0.7L = 3.5 m)</li>
                    <li>Normal from wall: N_w (horizontal, at top of ladder)</li>
                    <li>Normal from ground: N_g (vertical, at base)</li>
                    <li>Friction from ground: f (horizontal, at base)</li>
                </ul>

                <p><strong>Equilibrium equations:</strong></p>
                <p>Taking moments about the base (anticlockwise positive):</p>
                <p>\(\sum M_{base} = 0\): \(N_w L \sin 60° - W_L \frac{L}{2} \cos 60° - W_P (0.7L) \cos 60° = 0\)</p>
                <p>\(N_w \times 5 \times 0.866 - 196.2 \times 2.5 \times 0.5 - 784.8 \times 3.5 \times 0.5 = 0\)</p>
                <p>\(4.33 N_w - 245.25 - 1373.4 = 0\)</p>
                <p>\(N_w = \frac{1618.65}{4.33} = 373.9 \text{ N}\)</p>

                <p>Horizontal equilibrium:</p>
                <p>\(\sum F_x = 0\): \(f - N_w = 0\) → \(f = 373.9 \text{ N}\)</p>

                <p>Vertical equilibrium:</p>
                <p>\(\sum F_y = 0\): \(N_g - W_L - W_P = 0\) → \(N_g = 196.2 + 784.8 = 981 \text{ N}\)</p>

                <p><strong>Check friction:</strong></p>
                <p>\(f_{max} = \mu_s N_g = 0.4 \times 981 = 392.4 \text{ N}\)</p>
                <p>Since \(f = 373.9 \text{ N} < f_{max} = 392.4 \text{ N}\)</p>

                <p><strong>Conclusion:</strong></p>
                <p>The ladder will NOT slip. The required friction force is less than the maximum available.</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 5: Traffic Light Suspended by Cables</h3>
            <p>A 25 kg traffic light is suspended by two cables attached at angles of 30° and 45° from the horizontal. Calculate the tension in each cable.</p>

            <p class="toggle-section" onclick="toggleSolution('solution5')">Show Solution</p>
            <div id="solution5" class="hidden">
                <p><strong>Given:</strong></p>
                <ul>
                    <li>Mass: m = 25 kg</li>
                    <li>Cable 1 angle: θ₁ = 30° from horizontal</li>
                    <li>Cable 2 angle: θ₂ = 45° from horizontal</li>
                    <li>Weight: W = 25 × 9.81 = 245.25 N</li>
                </ul>

                <p><strong>Forces on traffic light FBD:</strong></p>
                <ul>
                    <li>Tension T₁ in cable 1 (at 30° angle)</li>
                    <li>Tension T₂ in cable 2 (at 45° angle)</li>
                    <li>Weight W = 245.25 N (downward)</li>
                </ul>

                <p><strong>Equilibrium equations:</strong></p>
                <p>Horizontal equilibrium:</p>
                <p>\(\sum F_x = 0\): \(T_1 \cos 30° - T_2 \cos 45° = 0\)</p>
                <p>\(0.866 T_1 = 0.707 T_2\) ... (1)</p>

                <p>Vertical equilibrium:</p>
                <p>\(\sum F_y = 0\): \(T_1 \sin 30° + T_2 \sin 45° - W = 0\)</p>
                <p>\(0.5 T_1 + 0.707 T_2 = 245.25\) ... (2)</p>

                <p>From equation (1): \(T_1 = \frac{0.707}{0.866} T_2 = 0.816 T_2\)</p>

                <p>Substituting into equation (2):</p>
                <p>\(0.5 \times 0.816 T_2 + 0.707 T_2 = 245.25\)</p>
                <p>\(0.408 T_2 + 0.707 T_2 = 245.25\)</p>
                <p>\(1.115 T_2 = 245.25\)</p>
                <p>\(T_2 = 220.0 \text{ N}\)</p>

                <p>Therefore: \(T_1 = 0.816 \times 220.0 = 179.5 \text{ N}\)</p>

                <p><strong>Answer:</strong></p>
                <p>Cable 1 tension: 179.5 N</p>
                <p>Cable 2 tension: 220.0 N</p>
            </div>
        </div>

        <h2>Knowledge Check Quiz</h2>
        <div class="quiz-container" id="quiz">
            <div class="quiz-question">
                <h3>Question 1: How many unknown reactions does a pin support provide in 2D?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q1" value="a"> a) 1 reaction force</label>
                    <label><input type="radio" name="q1" value="b"> b) 2 reaction forces</label>
                    <label><input type="radio" name="q1" value="c"> c) 2 reaction forces and 1 moment</label>
                    <label><input type="radio" name="q1" value="d"> d) 3 reaction forces</label>
                </div>
            </div>
            
            <div class="quiz-question">
                <h3>Question 2: Which support allows both translation along a surface and rotation?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q2" value="a"> a) Fixed support</label>
                    <label><input type="radio" name="q2" value="b"> b) Pin support</label>
                    <label><input type="radio" name="q2" value="c"> c) Roller support</label>
                    <label><input type="radio" name="q2" value="d"> d) Collar support</label>
                </div>
            </div>
            
            <div class="quiz-question">
                <h3>Question 3: For a uniformly distributed load of intensity w over length L, what is the magnitude of the resultant force?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q3" value="a"> a) w</label>
                    <label><input type="radio" name="q3" value="b"> b) wL</label>
                    <label><input type="radio" name="q3" value="c"> c) wL/2</label>
                    <label><input type="radio" name="q3" value="d"> d) 2wL</label>
                </div>
            </div>
            
            <div class="quiz-question">
                <h3>Question 4: Which of the following can a cable NOT do?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q4" value="a"> a) Support tension</label>
                    <label><input type="radio" name="q4" value="b"> b) Support compression</label>
                    <label><input type="radio" name="q4" value="c"> c) Change direction of force</label>
                    <label><input type="radio" name="q4" value="d"> d) Transmit force along its length</label>
                </div>
            </div>
            
            <div class="quiz-question">
                <h3>Question 5: For a body in static equilibrium in 2D, how many independent equilibrium equations are available?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q5" value="a"> a) 2</label>
                    <label><input type="radio" name="q5" value="b"> b) 3</label>
                    <label><input type="radio" name="q5" value="c"> c) 4</label>
                    <label><input type="radio" name="q5" value="d"> d) 6</label>
                </div>
            </div>
            
            <button id="submit-quiz">Submit Quiz</button>
            <div id="quiz-results"></div>
        </div>
    </div>

    <!-- Common JavaScript functions -->
    <script src="/assets/common/problems.js"></script>
    <script src="/assets/common/quizzes.js"></script>

    <script>
        // Page-specific JavaScript

        // Update slider value displays
        function setupSliderValueDisplays() {
            // Wait for p5.js to create sliders - try multiple times if needed
            function trySetupLadderSliders(attempts = 0) {
                const ladderControls = document.getElementById('ladder-controls');
                if (ladderControls) {
                    const sliders = ladderControls.querySelectorAll('input[type="range"]');
                    if (sliders.length >= 4) {
                        sliders[0].addEventListener('input', (e) => {
                            const val = document.getElementById('angle-value');
                            if (val) val.textContent = e.target.value;
                        });
                        sliders[1].addEventListener('input', (e) => {
                            const val = document.getElementById('mu-value');
                            if (val) val.textContent = parseFloat(e.target.value).toFixed(2);
                        });
                        sliders[2].addEventListener('input', (e) => {
                            const val = document.getElementById('person-mass-value');
                            if (val) val.textContent = e.target.value;
                        });
                        sliders[3].addEventListener('input', (e) => {
                            const val = document.getElementById('person-pos-value');
                            if (val) val.textContent = e.target.value;
                        });
                        console.log('Ladder sliders initialized');
                    } else if (attempts < 10) {
                        setTimeout(() => trySetupLadderSliders(attempts + 1), 200);
                    }
                }
            }

            setTimeout(() => trySetupLadderSliders(), 500);

            // Pulley simulation sliders
            setTimeout(() => {
                const pulleyControls = document.getElementById('pulley-controls');
                if (pulleyControls) {
                    const sliders = pulleyControls.querySelectorAll('input[type="range"]');
                    if (sliders.length >= 1) {
                        sliders[0].addEventListener('input', (e) => {
                            const val = document.getElementById('beam-weight-value');
                            if (val) val.textContent = e.target.value;
                        });
                    }
                }
            }, 1000);

            // Traffic light simulation sliders
            setTimeout(() => {
                const trafficControls = document.getElementById('traffic-controls');
                if (trafficControls) {
                    const sliders = trafficControls.querySelectorAll('input[type="range"]');
                    if (sliders.length >= 3) {
                        sliders[0].addEventListener('input', (e) => {
                            const val = document.getElementById('k1-value');
                            if (val) val.textContent = e.target.value;
                        });
                        sliders[1].addEventListener('input', (e) => {
                            const val = document.getElementById('k2-value');
                            if (val) val.textContent = e.target.value;
                        });
                        sliders[2].addEventListener('input', (e) => {
                            const val = document.getElementById('mass-value');
                            if (val) val.textContent = e.target.value;
                        });
                    }
                }
            }, 1000);
        }

        // Quiz functionality (custom for this page)
        document.addEventListener('DOMContentLoaded', function() {
            setupSliderValueDisplays();
            const quizBtn = document.getElementById('submit-quiz');
            if (quizBtn) {
                quizBtn.addEventListener('click', function() {
                    const answers = {
                        q1: 'b', // 2 reaction forces
                        q2: 'c', // Roller support
                        q3: 'b', // wL
                        q4: 'b', // Support compression
                        q5: 'b'  // 3 equations
                    };

                    let score = 0;
                    let totalQuestions = Object.keys(answers).length;
                    let resultsHTML = '<h3>Quiz Results:</h3>';

                    for (let question in answers) {
                        const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                        const correctAnswer = answers[question];

                        if (selectedOption) {
                            if (selectedOption.value === correctAnswer) {
                                score++;
                                resultsHTML += `<p style="color: #28a745; font-weight: bold;">${question.toUpperCase()}: Correct! ✓</p>`;
                            } else {
                                resultsHTML += `<p style="color: #dc3545; font-weight: bold;">${question.toUpperCase()}: Incorrect ✗</p>`;
                            }
                        } else {
                            resultsHTML += `<p style="color: #333;">${question.toUpperCase()}: Not answered</p>`;
                        }
                    }

                    const percentage = ((score / totalQuestions) * 100).toFixed(0);
                    resultsHTML = `<p style="font-size: 1.2em; font-weight: bold;">You scored ${score} out of ${totalQuestions} (${percentage}%)</p>` + resultsHTML;

                    const resultsDiv = document.getElementById('quiz-results');
                    resultsDiv.innerHTML = resultsHTML;
                });
            }
        });
    </script>
    
    <footer>
    <script src="/assets/common/footer.js"></script>
    </footer>
</body>
</html>