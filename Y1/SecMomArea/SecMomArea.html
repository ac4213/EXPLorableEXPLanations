<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Second Moment of Area - Interactive Lecture</title>
    <!-- Import p5.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <!-- Import MathJax for LaTeX rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
        <!-- External CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/problems.css">
    <link rel="stylesheet" href="/assets/css/quizzes.css">
    <link rel="stylesheet" href="/assets/css/simulations.css">
    <link rel="stylesheet" href="/assets/css/uicontrols.css">
    <style>
        /* Page-specific styles for second moment of area simulation */
        #sketch-holder {
            background-color: #e9d8b1;
        }
    </style>
</head>
<body>
    <header>
        <h1>SECOND MOMENT OF AREA</h1>
        <p>Interactive exploration of centroids and second moment of area</p>
    </header>
    
    <div class="content-section">
        <h2>What is a Centroid?</h2>
        <p>The centroid of a shape is the geometric centre of the shape - the balancing point if it were made of a uniform material.</p>
        <div class="equation-box">
            <p>For a composite shape made up of multiple simple shapes, the centroid can be found using:</p>
            \[ y_c = \frac{\sum A_i y_i}{\sum A_i} \]
            <p>Where \(y_c\) is the y-coordinate of the centroid, \(A_i\) is the area of each component, and \(y_i\) is the centroid of each component.</p>
        </div>
    </div>

    <div class="content-section">
        <h2>What is Second Moment of Area?</h2>
        <p>The Second Moment of Area (also called Moment of Inertia) measures how far a shape's area is distributed from an axis. It's crucial for determining resistance to bending.</p>
        <div class="equation-box">
            <p>For a simple rectangle about its centroidal x-axis:</p>
            \[ I_x = \frac{bh^3}{12} \]
            <p>Where \(b\) is the width and \(h\) is the height perpendicular to the x-axis.</p>
            <p>For composite shapes, we use the Parallel Axis Theorem:</p>
            \[ I = I_c + Ad^2 \]
            <p>Where \(I_c\) is the moment about the centroidal axis, \(A\) is the area, and \(d\) is the distance between axes.</p>
        </div>
    </div>

    <div class="content-section">
        <h2>Notable Second Moments of Area for Common Shapes</h2>
        <p>The following formulas give the second moment of area about the centroidal axes (x and y) for common shapes:</p>
        <div class="equation-box">
            <h3>Rectangle (width b, height h):</h3>
            <p>\[ I_x = \frac{bh^3}{12} \quad \text{and} \quad I_y = \frac{hb^3}{12} \]</p>

            <h3>Circle (diameter d):</h3>
            <p>\[ I_x = I_y = \frac{\pi d^4}{64} \]</p>

            <h3>Triangle (base b, height h, about centroidal axis parallel to base):</h3>
            <p>\[ I_x = \frac{bh^3}{36} \]</p>

            <h3>I-beam (composite shape):</h3>
            <p>Use the parallel axis theorem to calculate the total second moment by summing contributions from flanges and web. See the interactive example below!</p>
        </div>
    </div>

    <div id="sketch-holder">
        <!-- Our sketch will go here! -->
    </div>
    
    <div id="button-container">
        <!-- Control buttons and sliders will be added here by JavaScript -->
    </div>
    
    <div class="content-section">
        <div class="key-point">
            <h3>Instructions</h3>
            <p>Use the sliders to adjust the dimensions of the I-section. Observe how changing the dimensions affects the centroid location and second moment of area.</p>
            <p>Key observations to note:</p>
            <ul>
                <li>The centroid moves based on the distribution of area</li>
                <li>Second moment of area increases when material is placed farther from the centroid</li>
                <li>Symmetrical shapes have predictable centroid locations</li>
            </ul>
        </div>

        <!-- Results now displayed in canvas -->
    </div>

    <div class="content-section">
        <h2>Engineering Applications</h2>
        <p>The second moment of area is essential in various engineering applications:</p>
        <ul>
            <li><strong>Beam Deflection:</strong> \(\delta = \frac{PL^3}{3EI}\) where deflection is inversely proportional to \(I\)</li>
            <li><strong>Bending Stress:</strong> \(\sigma = \frac{My}{I}\) where stress decreases as \(I\) increases</li>
            <li><strong>Column Buckling:</strong> \(P_{cr} = \frac{\pi^2EI}{(KL)^2}\) where critical load increases with \(I\)</li>
        </ul>
        <p>These principles are used in the design of structural elements in buildings, bridges, mechanical components, and more.</p>
    </div>

    <script>
// Canvas variables
let cnv, cnvx, cnvy;
let bgdRGB = [233, 216, 177]; // Match the parabolic applet background
let sliders = []; // Array of slider objects
let sliderLabels = ["Top flange width", "Bottom flange width", "Web width", "Web height"];
let sliderDefaults = [100, 200, 20, 150]; // Default values for sliders
let sliderMinMax = [[20, 300], [20, 300], [10, 50], [50, 300]]; // Min/max values for sliders
let figura = []; // Array of shape objects
let ctroid; // Centroid of the composite shape
let absx = 300, absy = 150; // Position of the figure on canvas

// Control variables
let showCentroid = true;
let showDimensions = false;
let symmetricMode = false;

// UI elements
let buttonContainer;

function setup() {
    // Create canvas
    cnv = createCanvas(800, 500);
    cnv.parent('sketch-holder');
    
    // Create control buttons first
    let resetBtn = createButton('RESET');
    resetBtn.parent('button-container');
    resetBtn.mousePressed(() => resetFigure());
    
    let symBtn = createButton('TOGGLE SYMMETRY');
    symBtn.parent('button-container');
    symBtn.mousePressed(() => toggleSymmetry());
    
    let dimBtn = createButton('TOGGLE DIMENSIONS');
    dimBtn.parent('button-container');
    dimBtn.mousePressed(() => toggleDimensions());
    
    // Create sliders
    createSliders();
    
    // Create initial figure
    resetFigure();
    
    // Display settings
    angleMode(DEGREES);
    rectMode(CENTER);
    textSize(12);
    
    // Enable manual redraw to improve performance
    noLoop();
}

function createSliders() {
    // Create sliders below the buttons
    for (let i = 0; i < sliderLabels.length; i++) {
        let sliderDiv = createDiv();
        sliderDiv.parent('button-container');
        sliderDiv.style('margin', '10px');
        sliderDiv.style('text-align', 'center');
        sliderDiv.style('width', '200px');
        
        let label = createP(sliderLabels[i] + ": ");
        label.parent(sliderDiv);
        label.style('margin', '5px');
        label.style('font-size', '14px');
        
        let slider = createSlider(sliderMinMax[i][0], sliderMinMax[i][1], sliderDefaults[i], 1);
        slider.style('width', '180px');
        slider.parent(sliderDiv);
        slider.input(() => {
            let val = slider.value();
            valueSpan.html(val + ' mm');
            
            // If in symmetric mode, update the paired slider
            if (symmetricMode && (i === 0 || i === 1)) {
                let pairedIdx = i === 0 ? 1 : 0;
                sliders[pairedIdx].value(val);
                let pairedSpan = select('#value-' + pairedIdx);
                if (pairedSpan) {
                    pairedSpan.html(val + ' mm');
                }
            }
            
            updateFigure();
        });
        
        let valueSpan = createSpan(sliderDefaults[i] + ' mm');
        valueSpan.id('value-' + i);
        valueSpan.style('margin-left', '10px');
        valueSpan.style('font-weight', 'bold');
        valueSpan.parent(sliderDiv);
        
        sliders.push(slider);
    }
}

function draw() {
    // Clear the background
    background(bgdRGB[0], bgdRGB[1], bgdRGB[2]);
    
    // Draw the composite shape
    for (let i = 0; i < figura.length; i++) {
        figura[i].display();
    }
    
    // Calculate and draw the centroid
    ctroid = centroid(figura);
    
    if (showCentroid) {
        drawCentroid(ctroid);
    }
    
    // Draw dimension lines if enabled
    if (showDimensions) {
        drawDimensions();
    }
    
    // Calculate the second moment of area
    let Ixx = secmomarea(figura, ctroid.y);
    
    // Draw reference arrows showing the distances
    drawReferenceArrows();

    // Draw explanatory text on the canvas
    drawExplanatoryText(ctroid, Ixx);

    // Draw results infobox at bottom right
    drawResultsInfobox(ctroid, Ixx);
}

function resetFigure() {
    // Reset sliders to default values
    for (let i = 0; i < sliders.length; i++) {
        sliders[i].value(sliderDefaults[i]);
        let valueSpan = select('#value-' + i);
        if (valueSpan) {
            valueSpan.html(sliderDefaults[i] + ' mm');
        }
    }
    
    // Reset symmetry mode
    symmetricMode = false;
    
    // Update the figure
    updateFigure();
}

function updateFigure() {
    // Get values from sliders
    let tflangew = sliders[0].value();
    let tflangeh = 30;
    let webt = sliders[2].value();
    let webh = sliders[3].value();
    let bflangew = sliders[1].value();
    let bflangeh = 30;
    
    // Update the I-section components
    figura = [];
    
    // Top flange (red)
    figura.push(new RectShape(absx, absy, tflangew, tflangeh, [255, 0, 0]));
    
    // Web (green) - ensure it connects exactly with flanges
    figura.push(new RectShape(absx, absy + tflangeh/2 + webh/2, webt, webh, [0, 155, 0]));
    
    // Bottom flange (blue) - ensure it connects exactly with web
    figura.push(new RectShape(absx, absy + tflangeh + webh, bflangew, bflangeh, [0, 0, 255]));
    
    // Trigger redraw to update the visualisation
    redraw();
}

function toggleSymmetry() {
    symmetricMode = !symmetricMode;
    
    if (symmetricMode) {
        // Make bottom flange width equal to top flange width
        let topFlangeWidth = sliders[0].value();
        sliders[1].value(topFlangeWidth); // Fixed: was sliders[4], now sliders[1]
        let valueSpan = select('#value-1');
        if (valueSpan) {
            valueSpan.html(topFlangeWidth + ' mm');
        }
    }
    
    updateFigure();
}

function toggleDimensions() {
    showDimensions = !showDimensions;
    redraw();
}

function centroid(figura) {
    let totarea = 0;
    let sumY = 0;
    let sumX = 0;
    
    for (let ii = 0; ii < figura.length; ii++) {
        totarea = totarea + figura[ii].Area;
        sumY = sumY + figura[ii].Area * figura[ii].yc; // sum(Ai*yci)
        sumX = sumX + figura[ii].Area * figura[ii].xc; // sum(Ai*xci)
    }
    
    let yc = sumY / totarea;
    let xc = sumX / totarea; // For asymmetric shapes
    
    let res = {
        x: xc,
        y: yc
    };
    return res;
}

function secmomarea(figura, theaxis) {
    let Ixx = 0;
    for (let ii = 0; ii < figura.length; ii++) {
        let d = (figura[ii].yc - theaxis);
        Ixx = Ixx + figura[ii].Ixc + figura[ii].Area * Math.pow(d, 2); // Parallel axis theorem
    }
    return Ixx;
}

function getTotalArea() {
    let totalArea = 0;
    for (let i = 0; i < figura.length; i++) {
        totalArea += figura[i].Area;
    }
    return totalArea;
}

function drawCentroid(ctroid) {
    push();
    stroke(255, 0, 0);
    strokeWeight(2);
    fill(255, 255, 0);
    
    // Draw centroid circle
    ellipse(ctroid.x, ctroid.y, 10, 10);
    
    // Draw crosshairs
    line(ctroid.x - 15, ctroid.y, ctroid.x + 15, ctroid.y);
    line(ctroid.x, ctroid.y - 15, ctroid.x, ctroid.y + 15);
    
    // Label
    textAlign(CENTER, TOP);
    fill(0);
    text("Centroid", ctroid.x, ctroid.y + 20);
    
    pop();
}

function drawDimensions() {
    push();
    stroke(100);
    strokeWeight(1);
    fill(0);
    textAlign(CENTER, CENTER);
    
    // Draw dimension lines for top flange
    let topFlangeWidth = figura[0].wdth;
    let x1 = figura[0].xc - topFlangeWidth / 2;
    let x2 = figura[0].xc + topFlangeWidth / 2;
    let y = figura[0].yc - figura[0].hght / 2 - 15;
    
    line(x1, y, x2, y);
    line(x1, y - 5, x1, y + 5);
    line(x2, y - 5, x2, y + 5);
    text(topFlangeWidth + " mm", (x1 + x2) / 2, y - 10);
    
    // Draw dimension lines for web height
    let webHeight = figura[1].hght;
    let x = figura[1].xc + figura[1].wdth / 2 + 15;
    let y1 = figura[1].yc - webHeight / 2;
    let y2 = figura[1].yc + webHeight / 2;
    
    line(x, y1, x, y2);
    line(x - 5, y1, x + 5, y1);
    line(x - 5, y2, x + 5, y2);
    
    push();
    translate(x + 10, (y1 + y2) / 2);
    rotate(90);
    text(webHeight + " mm", 0, 0);
    pop();
    
    // Draw dimension lines for bottom flange
    let bottomFlangeWidth = figura[2].wdth;
    x1 = figura[2].xc - bottomFlangeWidth / 2;
    x2 = figura[2].xc + bottomFlangeWidth / 2;
    y = figura[2].yc + figura[2].hght / 2 + 15;
    
    line(x1, y, x2, y);
    line(x1, y - 5, x1, y + 5);
    line(x2, y - 5, x2, y + 5);
    text(bottomFlangeWidth + " mm", (x1 + x2) / 2, y + 10);
    
    pop();
}

function drawReferenceArrows() {
    push();
    strokeWeight(1);
    
    // Draw arrows from component centroids to composite centroid
    drawArrow(figura[0].xc + 70, figura[0].yc, ctroid.x + 70, ctroid.y, [200, 0, 0], true);
    
    if (Math.abs(figura[1].yc - ctroid.y) > 12) {
        let direction = (figura[1].yc - ctroid.y) < 0 ? 1 : -1;
        drawArrow(figura[1].xc + 100, figura[1].yc + direction, ctroid.x + 100, ctroid.y - direction, [0, 155, 0], true);
    }
    
    drawArrow(figura[2].xc + 130, figura[2].yc, ctroid.x + 130, ctroid.y, [0, 0, 200], true);
    
    // Label distance values
    textAlign(CENTER, CENTER);
    fill(200, 0, 0);
    let d1 = Math.abs(figura[0].yc - ctroid.y).toFixed(1);
    text("d₁ = " + d1 + " mm", figura[0].xc + 70, (figura[0].yc + ctroid.y) / 2);
    
    fill(0, 155, 0);
    let d2 = Math.abs(figura[1].yc - ctroid.y).toFixed(1);
    text("d₂ = " + d2 + " mm", figura[1].xc + 100, (figura[1].yc + ctroid.y) / 2);
    
    fill(0, 0, 200);
    let d3 = Math.abs(figura[2].yc - ctroid.y).toFixed(1);
    text("d₃ = " + d3 + " mm", figura[2].xc + 130, (figura[2].yc + ctroid.y) / 2);
    
    pop();
}

function drawResultsInfobox(ctroid, Ixx) {
    // Calculate individual second moments
    let Ixx1 = Math.round(secmomarea([figura[0]], ctroid.y));
    let Ixx2 = Math.round(secmomarea([figura[1]], ctroid.y));
    let Ixx3 = Math.round(secmomarea([figura[2]], ctroid.y));

    push();

    // Infobox position (bottom right)
    let boxX = width - 230;
    let boxY = height - 210;
    let boxW = 220;
    let boxH = 200;

    // Draw semi-transparent background box
    rectMode(CORNER); // Use corner mode for proper positioning
    fill(255, 255, 255, 230);
    stroke(100);
    strokeWeight(1);
    rect(boxX, boxY, boxW, boxH, 5);

    // Draw title
    fill(0);
    noStroke();
    textAlign(LEFT, TOP);
    textSize(13);
    textStyle(BOLD);
    text("Section Properties", boxX + 10, boxY + 8);

    // Draw results
    textSize(11);
    textStyle(NORMAL);
    let y = boxY + 30;
    let lineH = 18;

    text("Centroid: (" + ctroid.x.toFixed(1) + ", " + ctroid.y.toFixed(1) + ") mm", boxX + 10, y);
    y += lineH;
    text("Total Area: " + getTotalArea().toFixed(0) + " mm²", boxX + 10, y);
    y += lineH;

    // Separator
    stroke(200);
    strokeWeight(1);
    line(boxX + 10, y + 5, boxX + boxW - 10, y + 5);
    y += 15;

    noStroke();
    fill(200, 0, 0);
    text("Ixx (Top Flange): " + Ixx1.toFixed(0) + " mm⁴", boxX + 10, y);
    y += lineH;

    fill(0, 155, 0);
    text("Ixx (Web): " + Ixx2.toFixed(0) + " mm⁴", boxX + 10, y);
    y += lineH;

    fill(0, 0, 200);
    text("Ixx (Bottom Flange): " + Ixx3.toFixed(0) + " mm⁴", boxX + 10, y);
    y += lineH;

    // Separator
    stroke(200);
    strokeWeight(1);
    line(boxX + 10, y + 5, boxX + boxW - 10, y + 5);
    y += 15;

    noStroke();
    fill(0);
    textStyle(BOLD);
    text("Total Ixx: " + Math.round(Ixx).toFixed(0) + " mm⁴", boxX + 10, y);

    if (symmetricMode) {
        y += lineH;
        fill(0, 100, 0);
        textSize(10);
        text("SYMMETRIC MODE: ON", boxX + 10, y);
    }

    pop();
}

function drawExplanatoryText(ctroid, Ixx) {
    push();
    fill(0);
    textAlign(LEFT, BOTTOM);
    textSize(14);
    text("Second Moment of Area Explorer", 20, 25);
    
    // Draw legend
    textSize(12);
    fill(200, 0, 0);
    text("Top Flange", 520, 130);
    fill(0, 155, 0);
    text("Web", 520, 150);
    fill(0, 0, 200);
    text("Bottom Flange", 520, 170);
    
    pop();
}

function RectShape(xc, yc, wdth, hght, colore) {
    this.xc = xc;
    this.yc = yc;
    this.colr = colore;
    this.wdth = wdth;
    this.hght = hght;

    this.Area = wdth * hght;
    this.troid = {
        x: xc,
        y: yc
    };
    this.Ixc = wdth * Math.pow(hght, 3) / 12; // bh³/12
    this.Iyc = hght * Math.pow(wdth, 3) / 12; // hb³/12

    this.display = function() {
        push();
        rectMode(CENTER);
        stroke(0);
        strokeWeight(2);
        
        // Fill with semi-transparent colour
        fill(this.colr[0], this.colr[1], this.colr[2], 100);
        
        // Draw the rectangle
        rect(this.xc, this.yc, this.wdth, this.hght);
        
        // Add hatching pattern
        stroke(this.colr[0], this.colr[1], this.colr[2], 150);
        strokeWeight(1);
        
        let spacing = 10;
        for (let i = -this.wdth/2 + spacing/2; i < this.wdth/2; i += spacing) {
            line(this.xc + i, this.yc - this.hght/2, this.xc + i, this.yc + this.hght/2);
        }
        pop();
        
        // Display the centroid of this component
        this.showcentre();
        
        // Display the area label
        push();
        fill(0);
        textAlign(LEFT, CENTER);
        textSize(12);
        text("A = " + this.Area.toFixed(0) + " mm²", this.xc + this.wdth/2 + 20, this.yc);
        pop();
    };

    this.showcentre = function() {
        push();
        stroke(this.colr[0], this.colr[1], this.colr[2]);
        strokeWeight(1);
        fill(this.colr[0], this.colr[1], this.colr[2], 200);
        
        // Draw a small circle at the centroid
        ellipse(this.xc, this.yc, 6, 6);
        
        // Draw a small cross at the centroid
        line(this.xc - 4, this.yc, this.xc + 4, this.yc);
        line(this.xc, this.yc - 4, this.xc, this.yc + 4);
        pop();
    };
}

function drawArrow(fromx, fromy, tox, toy, color, twoheaded) {
    // Convert colour array to hex string
    let colorstring = "#";
    let pad = "00";
    for (let ii = 0; ii < color.length; ii++) {
        colorstring = colorstring + (pad + color[ii].toString(16)).slice(-pad.length);
    }
    
    // Get drawing context
    let ctx = cnv.drawingContext;
    let headlen = 5;
    
    // Calculate arrow angle
    let angle = Math.atan2(toy - fromy, tox - fromx);
    
    // Save original context settings
    let oldstrokestyle = ctx.strokeStyle;
    let oldlineWidth = ctx.lineWidth;
    let oldfillStyle = ctx.fillStyle;
    
    // Draw the main shaft
    ctx.beginPath();
    ctx.moveTo(fromx, fromy);
    ctx.lineTo(tox, toy);
    ctx.strokeStyle = colorstring;
    ctx.lineWidth = 1;
    ctx.stroke();
    
    // Draw the arrowhead at the end
    ctx.beginPath();
    ctx.moveTo(tox, toy);
    ctx.lineTo(tox - headlen * Math.cos(angle - Math.PI/7), toy - headlen * Math.sin(angle - Math.PI/7));
    ctx.lineTo(tox - headlen * Math.cos(angle + Math.PI/7), toy - headlen * Math.sin(angle + Math.PI/7));
    ctx.lineTo(tox, toy);
    ctx.fillStyle = colorstring;
    ctx.fill();
    
    // If two-headed, draw the second arrowhead
    if (twoheaded) {
        ctx.beginPath();
        ctx.moveTo(fromx, fromy);
        ctx.lineTo(fromx + headlen * Math.cos(angle - Math.PI/7), fromy + headlen * Math.sin(angle - Math.PI/7));
        ctx.lineTo(fromx + headlen * Math.cos(angle + Math.PI/7), fromy + headlen * Math.sin(angle + Math.PI/7));
        ctx.lineTo(fromx, fromy);
        ctx.fillStyle = colorstring;
        ctx.fill();
    }
    
    // Restore original context settings
    ctx.strokeStyle = oldstrokestyle;
    ctx.lineWidth = oldlineWidth;
    ctx.fillStyle = oldfillStyle;
}
    </script>

    <div class="content-section">
        <h2>Summary of Key Equations</h2>
        <div class="equation-table">
            <table>
                <thead>
                    <tr>
                        <th>Concept</th>
                        <th>Equation</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Rectangle</td>
                    <td>\(I = \frac{bh^3}{12}\)</td>
                    <td>Centroidal horizontal axis</td>
                </tr>
                <tr>
                    <td>Circle</td>
                    <td>\(I = \frac{\pi d^4}{64}\)</td>
                    <td>Diameter</td>
                </tr>
                <tr>
                    <td>Parallel Axis Theorem</td>
                    <td>\(I = I_c + Ad^2\)</td>
                    <td>Any parallel axis</td>
                </tr>
                <tr>
                    <td>Bending Stress</td>
                    <td>\(\sigma = \frac{My}{I}\)</td>
                    <td>Stress in bending</td>
                </tr>
                <tr>
                    <td>Centroid</td>
                    <td>\(\bar{y} = \frac{\sum A_i y_i}{\sum A_i}\)</td>
                    <td>Composite shapes</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="content-section">
        <h2>Practice Problems</h2>

        <div class="practice-problems">
            <h3>Problem 1: T-Section Centroid and Second Moment</h3>
            <p>A T-section beam has a flange width of 200 mm, flange thickness of 25 mm, web width of 20 mm, and web height of 175 mm. Calculate:</p>
            <ol>
                <li>The location of the centroid from the top of the section</li>
                <li>The second moment of area about the centroidal axis</li>
            </ol>

            <p class="toggle-section" onclick="toggleSolution('solution1')">Show Solution</p>
            <div id="solution1" class="hidden">
                <p><strong>Given:</strong> Flange: \(b_f = 200 \text{ mm}, t_f = 25 \text{ mm}\); Web: \(b_w = 20 \text{ mm}, h_w = 175 \text{ mm}\)</p>

                <p><strong>Step 1: Calculate areas and individual centroids</strong></p>
                <p>Flange area: \(A_1 = 200 \times 25 = 5000 \text{ mm}^2\), \(y_1 = 12.5 \text{ mm}\) from top</p>
                <p>Web area: \(A_2 = 20 \times 175 = 3500 \text{ mm}^2\), \(y_2 = 25 + 87.5 = 112.5 \text{ mm}\) from top</p>

                <p><strong>Step 2: Calculate composite centroid</strong></p>
                <p>\(y_c = \frac{A_1 y_1 + A_2 y_2}{A_1 + A_2} = \frac{5000 \times 12.5 + 3500 \times 112.5}{5000 + 3500} = \frac{456,250}{8500} = 53.68 \text{ mm}\) from top</p>

                <p><strong>Step 3: Calculate second moment of area using parallel axis theorem</strong></p>
                <p>Flange: \(I_1 = \frac{200 \times 25^3}{12} + 5000 \times (53.68 - 12.5)^2 = 260,417 + 8,465,045 = 8,725,462 \text{ mm}^4\)</p>
                <p>Web: \(I_2 = \frac{20 \times 175^3}{12} + 3500 \times (112.5 - 53.68)^2 = 8,932,292 + 12,095,204 = 21,027,496 \text{ mm}^4\)</p>
                <p><strong>Total:</strong> \(I_{xx} = 8,725,462 + 21,027,496 = 29,752,958 \text{ mm}^4 = 29.75 \times 10^6 \text{ mm}^4\)</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 2: Rectangular Beam Comparison</h3>
            <p>Two rectangular beams have the same cross-sectional area of 12,000 mm². Beam A is 100 mm wide and 120 mm deep. Beam B is 60 mm wide and 200 mm deep. Which beam has greater resistance to bending about its horizontal axis?</p>

            <p class="toggle-section" onclick="toggleSolution('solution2')">Show Solution</p>
            <div id="solution2" class="hidden">
                <p><strong>Beam A:</strong> \(b = 100 \text{ mm}, h = 120 \text{ mm}\)</p>
                <p>\(I_A = \frac{bh^3}{12} = \frac{100 \times 120^3}{12} = 14.4 \times 10^6 \text{ mm}^4\)</p>

                <p><strong>Beam B:</strong> \(b = 60 \text{ mm}, h = 200 \text{ mm}\)</p>
                <p>\(I_B = \frac{bh^3}{12} = \frac{60 \times 200^3}{12} = 40.0 \times 10^6 \text{ mm}^4\)</p>

                <p><strong>Conclusion:</strong> Beam B has a second moment of area 2.78 times larger than Beam A, making it much more resistant to bending despite having the same cross-sectional area. This demonstrates that distributing material farther from the neutral axis significantly increases bending resistance.</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 3: I-Beam Design Application</h3>
            <p>An I-beam has the following dimensions: flange width = 150 mm, flange thickness = 20 mm (top and bottom), web thickness = 15 mm, total height = 250 mm. Calculate the second moment of area about the centroidal x-axis and determine the maximum bending stress if a moment of 50 kN·m is applied.</p>

            <p class="toggle-section" onclick="toggleSolution('solution3')">Show Solution</p>
            <div id="solution3" class="hidden">
                <p><strong>Step 1: Calculate second moment of area</strong></p>
                <p>For a symmetric I-beam, the centroid is at mid-height: \(y_c = 125 \text{ mm}\)</p>

                <p>Top flange: \(I_1 = \frac{150 \times 20^3}{12} + 150 \times 20 \times (125 - 10)^2 = 100,000 + 39,675,000 = 39,775,000 \text{ mm}^4\)</p>
                <p>Web: \(I_2 = \frac{15 \times 210^3}{12} = 11,576,250 \text{ mm}^4\)</p>
                <p>Bottom flange: \(I_3 = 39,775,000 \text{ mm}^4\) (by symmetry)</p>

                <p><strong>Total:</strong> \(I_{xx} = 39,775,000 + 11,576,250 + 39,775,000 = 91,126,250 \text{ mm}^4 = 91.13 \times 10^6 \text{ mm}^4\)</p>

                <p><strong>Step 2: Calculate maximum bending stress</strong></p>
                <p>\(\sigma_{max} = \frac{My_{max}}{I} = \frac{50 \times 10^6 \times 125}{91.13 \times 10^6} = 68.5 \text{ MPa}\)</p>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h2>Knowledge Check Quiz</h2>
        <div class="quiz-container">
            <div class="quiz-question">
                <h3>Question 1: What is the centroid of a shape?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q1" value="a"> a) The geometric center or balancing point of the shape</label>
                    <label><input type="radio" name="q1" value="b"> b) The point of maximum stress in the shape</label>
                    <label><input type="radio" name="q1" value="c"> c) The point where the shape will break first</label>
                    <label><input type="radio" name="q1" value="d"> d) The heaviest point in the shape</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 2: For a rectangular section with width b and height h, what is the formula for the second moment of area about its centroidal horizontal axis?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q2" value="a"> a) \(I = \frac{bh^2}{12}\)</label>
                    <label><input type="radio" name="q2" value="b"> b) \(I = \frac{bh^3}{12}\)</label>
                    <label><input type="radio" name="q2" value="c"> c) \(I = \frac{b^3h}{12}\)</label>
                    <label><input type="radio" name="q2" value="d"> d) \(I = bh^3\)</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 3: The Parallel Axis Theorem is expressed as \(I = I_c + Ad^2\). What does 'd' represent?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q3" value="a"> a) The depth of the section</label>
                    <label><input type="radio" name="q3" value="b"> b) The distance between the centroidal axis and the parallel axis</label>
                    <label><input type="radio" name="q3" value="c"> c) The diameter of the section</label>
                    <label><input type="radio" name="q3" value="d"> d) The deflection of the beam</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 4: Why is the second moment of area important in beam design?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q4" value="a"> a) It determines the color of the beam</label>
                    <label><input type="radio" name="q4" value="b"> b) It measures the beam's resistance to bending and deflection</label>
                    <label><input type="radio" name="q4" value="c"> c) It calculates the beam's weight</label>
                    <label><input type="radio" name="q4" value="d"> d) It determines the beam's temperature</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 5: For an I-beam, where should material be placed to maximize the second moment of area?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q5" value="a"> a) Close to the centroid</label>
                    <label><input type="radio" name="q5" value="b"> b) Uniformly distributed</label>
                    <label><input type="radio" name="q5" value="c"> c) As far as possible from the centroidal axis (in the flanges)</label>
                    <label><input type="radio" name="q5" value="d"> d) In the web only</label>
                </div>
            </div>

            <button id="submit-quiz">Submit Quiz</button>
            <div id="quiz-results"></div>
        </div>
    </div>

    <footer>
        <script src="/assets/common/footer.js"></script>
    </footer>

    <!-- Common JavaScript functions -->
    <script src="/assets/common/problems.js"></script>
    <script src="/assets/common/quizzes.js"></script>

    <script>
        // Quiz functionality
        document.addEventListener('DOMContentLoaded', function() {
            const quizBtn = document.getElementById('submit-quiz');
            if (quizBtn) {
                quizBtn.addEventListener('click', function() {
                    const answers = {
                        q1: 'a', // Geometric center or balancing point
                        q2: 'b', // bh^3/12
                        q3: 'b', // Distance between axes
                        q4: 'b', // Resistance to bending and deflection
                        q5: 'c'  // As far as possible from centroid
                    };

                    let score = 0;
                    let totalQuestions = Object.keys(answers).length;
                    let resultsHTML = '<h3>Quiz Results:</h3>';

                    for (let question in answers) {
                        const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                        const correctAnswer = answers[question];

                        if (selectedOption) {
                            if (selectedOption.value === correctAnswer) {
                                score++;
                                resultsHTML += `<p style="color: #28a745; font-weight: bold;">${question.toUpperCase()}: Correct! ✓</p>`;
                            } else {
                                resultsHTML += `<p style="color: #dc3545; font-weight: bold;">${question.toUpperCase()}: Incorrect ✗</p>`;
                            }
                        } else {
                            resultsHTML += `<p style="color: #333;">${question.toUpperCase()}: Not answered</p>`;
                        }
                    }

                    const percentage = ((score / totalQuestions) * 100).toFixed(0);
                    resultsHTML = `<p style="font-size: 1.2em; font-weight: bold;">You scored ${score} out of ${totalQuestions} (${percentage}%)</p>` + resultsHTML;

                    const resultsDiv = document.getElementById('quiz-results');
                    resultsDiv.innerHTML = resultsHTML;
                    resultsDiv.classList.remove('hidden');
                });
            }
        });
    </script>

</body>
</html>