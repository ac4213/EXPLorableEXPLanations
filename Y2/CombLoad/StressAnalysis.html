<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stress Analysis - Interactive Lecture</title>
    <!-- Import the p5.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <!-- Import MathJax for LaTeX rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
    <!-- External CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/problems.css">
    <link rel="stylesheet" href="/assets/css/quizzes.css">
    <link rel="stylesheet" href="/assets/css/simulations.css">
    <link rel="stylesheet" href="/assets/css/uicontrols.css">
    <!-- Your script goes here -->
    <script src="StressAnalysis.js"></script>

    <style>
        /* Additional styles for the enhanced shear simulation */
        .section-inputs { 
            display: none; 
            margin: 6px 0 12px; 
            gap: 12px; 
            align-items: center; 
        }
        
        .section-inputs label {
            font-size: 14px;
        }
        
        .section-inputs input[type="number"] {
            width: 70px;
            margin-left: 6px;
        }
    </style>
</head>

<body>
    <header>
        <h1>Stress Analysis</h1>
        <p class="subtitle">Understanding Stresses Due to Different Loadings</p>
    </header>

    <div class="content-section">
        <h2>Introduction to Mechanical Stresses</h2>
        <p>Mechanical stress is a fundamental concept in engineering, representing the internal resistance of a body to external forces. Understanding how different types of loading create different stress patterns is crucial for designing safe and efficient structures.</p>
        
        <div class="equation-box">
            <p>The fundamental definition of stress:</p>
            <p>\[\sigma = \frac{F}{A}\]</p>
            <p>where \(\sigma\) is stress (Pa or N/m²), \(F\) is force (N), and \(A\) is the cross-sectional area (m²)</p>
        </div>

        <div class="key-point">
            <p><strong>Types of Stress:</strong></p>
            <ul>
                <li><strong>Normal stress (\(\sigma\)):</strong> Acts perpendicular to the cross-section</li>
                <li><strong>Shear stress (\(\tau\)):</strong> Acts parallel to the cross-section</li>
            </ul>
            <p>Different loading conditions produce different combinations of these fundamental stress types.</p>
        </div>

        <h3>Why Stress Analysis Matters</h3>
        <p>Engineers must ensure that stresses in structures and components remain below critical values to prevent:</p>
        <ul>
            <li>Yielding (permanent deformation)</li>
            <li>Fracture (sudden failure)</li>
            <li>Fatigue (failure after repeated loading)</li>
            <li>Excessive deflection</li>
        </ul>
    </div>

    <div class="simulation-section">
        <h2>Axial Stress</h2>
        <p>Axial stress occurs when forces act along the longitudinal axis of a member, creating uniform tension or compression across the cross-section.</p>
        
        <div class="equation-box">
            <p>\[\sigma_{\text{axial}} = \frac{N}{A}\]</p>
            <p>where \(N\) is the Normal Force (axial load) and \(A\) is the cross-sectional area</p>
        </div>

        <h3>Interactive Simulation</h3>
        <div id="sketch-holder-axial" class="sketch-holder">
            <!-- Axial stress simulation goes here -->
        </div>
        
        <div class="interactive-controls">
            <div class="control-group">
                <label for="axialForce">Axial Force (kN): <span id="axialForceVal">50</span></label>
                <input type="range" id="axialForce" min="-200" max="200" step="10" value="50">
            </div>
            <div class="control-group">
                <label for="crossArea">Cross-sectional Area (mm²): <span id="crossAreaVal">1000</span></label>
                <input type="range" id="crossArea" min="100" max="2500" step="100" value="1000">
            </div>
        </div>

        <div class="key-point">
            <p><strong>Engineering Applications:</strong> Axial stress analysis is critical for:</p>
            <ul>
                <li>Columns in buildings (compression)</li>
                <li>Tie rods and cables (tension)</li>
                <li>Bolts and fasteners</li>
                <li>Pressure vessel walls</li>
            </ul>
        </div>
    </div>

    <div class="simulation-section">
        <h2>Shear Stress Distribution — Jourawski Method</h2>
        <p>Shear stress develops when forces act parallel to a cross-section, causing layers of material to slide relative to each other. The Jourawski method shows how shear stress varies across different cross-sectional shapes, with parabolic distribution in rectangular sections.</p>
        
        <div class="equation-box">
            <p>Jourawski's formula: \[\tau = \frac{VQ}{It}\]</p>
            <p>where \(V\) = shear force, \(Q\) = first moment of area above/below the cut, \(I\) = second moment of area, \(t\) = width at the cut</p>
            <p>Average shear stress: \[\tau_{avg} = \frac{V}{A}\]</p>
            <p>Maximum shear stress in rectangular beams: \[\tau_{max} = \frac{3V}{2A}\]</p>
        </div>

        <h3>Interactive Simulation</h3>
        
        <div id="sketch-holder-shear" class="sketch-holder">
            <!-- Enhanced shear stress simulation goes here -->
        </div>
        
        <div class="interactive-controls">
            <div class="control-group">
                <label for="shearForce">Shear Force (kN): <span id="shearForceVal">130</span></label>
                <input id="shearForce" type="range" min="10" max="300" step="5" value="130">
            </div>
            
            <div class="control-group">
                <label for="cutSlider">Cut Position: <span id="cutReadout">Cut @ y = 0.0 mm</span></label>
                <input id="cutSlider" type="range" min="0" max="100" step="1" value="50" title="Cut position (0% top → 100% bottom)">
            </div>
            
            <div class="control-group">
                <label for="shearSection">Section Type:</label>
                <select id="shearSection">
                    <option value="rectangular" selected>Rectangular</option>
                    <option value="t-section">T-section</option>
                    <option value="i-section">I-section</option>
                </select>
            </div>
        </div>

        <!-- Section-specific dimension inputs -->
        <div id="rectangular-inputs" class="section-inputs">
            <label> b: <input type="number" id="rect_b" value="120", min="50"> mm</label>
            <label> h: <input type="number" id="rect_h" value="200", min="50"> mm</label>
        </div>

        <div id="t-section-inputs" class="section-inputs">
            <label> b<sub>f</sub>: <input type="number" id="t_bf" value="140", min="20"> mm</label>
            <label> t<sub>f</sub>: <input type="number" id="t_tf" value="30", min="20"> mm</label>
            <label> t<sub>w</sub>: <input type="number" id="t_tw" value="20", min="15"> mm</label>
            <label> h<sub>w</sub>: <input type="number" id="t_hw" value="160", min="50"> mm</label>
        </div>

        <div id="i-section-inputs" class="section-inputs">
            <label> b<sub>f</sub>: <input type="number" id="i_bf" value="140", min="20"> mm</label>
            <label> t<sub>f</sub>: <input type="number" id="i_tf" value="20", min="15"> mm</label>
            <label> t<sub>w</sub>: <input type="number" id="i_tw" value="20", min="15"> mm</label>
            <label> h<sub>w</sub>: <input type="number" id="i_hw" value="160", min="20"> mm</label>
        </div>

        <div class="key-point">
            <p><strong>Engineering Applications:</strong> Understanding shear stress distribution is critical for:</p>
            <ul>
                <li>Beam design and shear reinforcement</li>
                <li>Connection design (bolts, welds)</li>
                <li>Composite beam analysis</li>
                <li>Web crippling and local buckling</li>
            </ul>
        </div>
    </div>

    <div class="simulation-section">
        <h2>Bending Stress</h2>
        <p>Bending creates normal stresses that vary linearly across the beam height - tensile on one side and compressive on the other.</p>
        
        <div class="equation-box">
            <p>Flexure formula: \[\sigma_{\text{bend}} = \frac{My}{I}\]</p>
            <p>Maximum stress: \[\sigma_{max} = \frac{Mc}{I} = \frac{M}{Z}\]</p>
            <p>where \(M\) = bending moment, \(y\) = distance from neutral axis, \(I\) = second moment of area,</p>
            <p>\(c=y_{max}\) = distance of furthest fibre, \(Z\) = section modulus</p>
        </div>

        <h3>Interactive Simulation</h3>
        <div id="sketch-holder-bending" class="sketch-holder">
            <!-- Bending stress simulation goes here -->
        </div>
        
        <div class="interactive-controls">
            <div class="control-group">
                <label for="bendingForce">Tip Force F (kN): <span id="bendingForceVal">10</span></label>
                <input type="range" id="bendingForce" min="-50" max="150" step="1" value="10">
            </div>

            <div class="control-group">
                <label for="bendingSection">Section Type:</label>
                <select id="bendingSection">
                    <option value="rectangular" selected>Rectangular</option>
                    <option value="t-section">T-section</option>
                </select>
            </div>
        </div>

        <div id="bend-rect-inputs" class="section-inputs" style="display:flex;">
            <label> b: <input type="number" id="bend_rect_b" value="120" min="40"> mm</label>
            <label> h: <input type="number" id="bend_rect_h" value="200" min="40"> mm</label>
        </div>

        <div id="bend-t-inputs" class="section-inputs">
            <label> b<sub>f</sub>: <input type="number" id="bend_t_bf" value="140" min="20"> mm</label>
            <label> t<sub>f</sub>: <input type="number" id="bend_t_tf" value="30" min="10"> mm</label>
            <label> t<sub>w</sub>: <input type="number" id="bend_t_tw" value="20" min="20"> mm</label>
            <label> h<sub>w</sub>: <input type="number" id="bend_t_hw" value="160" min="20"> mm</label>
        </div>

        <div class="interactive-controls">
            <div class="control-group">
                <label for="bendX">Element x-position along beam (m): <span id="bendXVal">0.30</span></label>
                <input type="range" id="bendX" min="0" max="2.00" step="0.01" value="0.30">
            </div>

            <div class="control-group">
                <label for="bendY">Element y across depth (−top … +bottom): <span id="bendYVal">-1.00</span></label>
                <input type="range" id="bendY" min="-1" max="1" step="0.01" value="-1">
            </div>
        </div>

        <div class="key-point">
            <p><strong>Engineering Applications:</strong> Bending stress analysis is essential for:</p>
            <ul>
                <li>Beam design in buildings and bridges</li>
                <li>Aircraft wing spars and fuselage frames</li>
                <li>Machine shafts under transverse loading</li>
                <li>Crane booms and cantilever structures</li>
                <li>Floor joists and roof rafters</li>
                <li>Railway tracks and supporting sleepers</li>
            </ul>
        </div>
    </div>

    <div class="simulation-section">
        <h2>Torsional Stress</h2>
        <p>Torsion creates shear stresses that act perpendicular to the radius. In circular shafts, these stresses vary linearly from zero at the centre to maximum at the outer surface.</p>
        
        <div class="equation-box">
            <p>Torsion formula: \[\tau = \frac{Tr}{J}\]</p>
            <p>Maximum stress: \[\tau_{max} = \frac{TR}{J} = \frac{T}{Z_p}\]</p>
            <p>where \(T\) = torque, \(r\) = radius of fibre of interest, \(J\) = polar moment of inertia,</p>
            <p>\(R\) = radius of outermost fibre, \(Z_p\) = Section modulus (polar) </p>
        </div>

        <h3>Interactive Simulation</h3>
        <div id="sketch-holder-torsion" class="sketch-holder">
            <!-- Torsion stress simulation goes here -->
        </div>
        
        <div class="interactive-controls">
            <div class="control-group">
                <label for="torTorque">Torque T (kN·m): <span id="torTorqueVal">5.0</span></label>
                <input type="range" id="torTorque" min="-20" max="20" step="1" value="5">
            </div>

            <div class="control-group">
                <label for="torSection">Section Type:</label>
                <select id="torSection">
                    <option value="solid" selected>Solid circular</option>
                    <option value="hollow">Hollow circular</option>
                </select>
            </div>

            <div class="control-group">
                <label for="torElementPos">Infinitesimal Position: <span id="torElementPosVal">1.0</span></label>
                <input type="range" id="torElementPos" min="-1" max="1" step="0.05" value="1">
            </div>

            <div class="control-group" id="torSolidDims" style="display:flex; gap:12px; align-items:center;">
                <label> Diameter D (mm): <input type="number" id="torD" min="50" max="250" step="1" value="200"></label>
            </div>

            <div class="control-group" id="torHollowDims" style="display:none; gap:12px; align-items:center;">
                <label> Diameter D (mm): <input type="number" id="torDo" min="50" max="250" step="1" value="200"></label>
                <label> Thickness t (mm): <input type="number" id="torThk" min="5" max="200" step="1" value="20"></label>
            </div>
        </div>

        <div class="key-point">
            <p><strong>Engineering Applications:</strong> Torsional stress analysis is crucial for:</p>
            <ul>
                <li>Drive shafts in automotive and marine applications</li>
                <li>Power transmission shafts in machinery</li>
                <li>Propeller shafts in aircraft and ships</li>
                <li>Torsion bars in vehicle suspension systems</li>
                <li>Drill bits and cutting tools</li>
                <li>Wind turbine shafts</li>
                <li>Screwdrivers and torque wrenches</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>Engineering Applications</h2>
        <p>Combined loading stress analysis is fundamental across all engineering disciplines:</p>
        <ul>
            <li><strong>Mechanical Design:</strong> Shafts in gearboxes experience combined bending and torsion. Proper stress analysis ensures adequate fatigue life.</li>
            <li><strong>Structural Engineering:</strong> Building columns undergo combined axial load and bending from wind. Beams experience shear and bending simultaneously.</li>
            <li><strong>Pressure Vessels:</strong> Tanks and pipes experience combined internal pressure, bending, and torsion, requiring careful stress analysis for safety.</li>
            <li><strong>Aerospace:</strong> Aircraft wing spars and fuselage frames experience complex combined loading during flight maneuvers.</li>
            <li><strong>Automotive:</strong> Drive shafts, axles, and suspension components all experience multiple stress types simultaneously.</li>
            <li><strong>Marine Engineering:</strong> Propeller shafts experience combined torsion from power transmission and bending from weight and hydrodynamic forces.</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>Summary of Key Equations</h2>

        <div class="equation-table">
            <table>
                <thead>
                    <tr>
                        <th>Loading Type</th>
                        <th>Stress Formula</th>
                        <th>Variables</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Axial</td>
                        <td>\(\sigma = \frac{N}{A}\)</td>
                        <td>\(N\) = normal force<br>\(A\) = cross-sectional area</td>
                    </tr>
                    <tr>
                        <td>Shear (Jourawski)</td>
                        <td>\(\tau = \frac{VQ}{It}\)</td>
                        <td>\(V\) = shear force<br>\(Q\) = first moment of area above/below cut<br>\(I\) = second moment of area<br>\(t\) = width at cut</td>
                    </tr>
                    <tr>
                        <td>Shear (average)</td>
                        <td>\(\tau = \frac{V}{A}\)</td>
                        <td>\(V\) = shear force<br>\(A\) = area</td>
                    </tr>
                    <tr>
                        <td>Shear (max, rectangular)</td>
                        <td>\(\tau_{max} = \frac{3V}{2A}\)</td>
                        <td>At neutral axis</td>
                    </tr>
                    <tr>
                        <td>Bending</td>
                        <td>\(\sigma = \frac{My}{I}\)</td>
                        <td>\(M\) = bending moment<br>\(y\) = distance from NA<br>\(I\) = second moment of area</td>
                    </tr>
                    <tr>
                        <td>Torsion (circular)</td>
                        <td>\(\tau = \frac{Tr}{J}\)</td>
                        <td>\(T\) = torque<br>\(r\) = radius<br>\(J\) = polar moment of inertia</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="key-point">
            <h3>Summary</h3>
            <p>Understanding stress analysis is fundamental to mechanical and structural engineering. Key takeaways:</p>
            <ol>
                <li>Different loading conditions produce characteristic stress distributions</li>
                <li>Axial stress is uniform; bending stress varies linearly; shear stress distributions depend on cross-section geometry</li>
                <li>Jourawski's method provides accurate shear stress calculation for any cross-section</li>
                <li>Torsional stress in circular shafts varies linearly with radius</li>
                <li>Proper stress analysis ensures safe, efficient, and economical designs</li>
            </ol>
        </div>
    </div>

    <div class="content-section">
        <h2>Practice Problems</h2>
        
        <div class="practice-problems">
            <h3>Problem 1: Axial Stress</h3>
            <p>A steel rod with diameter 25 mm is subjected to a tensile force of 20 kN. Calculate the axial stress.</p>
            
            <p class="toggle-section" onclick="toggleSolution('solution1')">Show Solution</p>
            <div id="solution1" class="hidden">
                <p>Given: d = 25 mm = 0.025 m, P = 20 kN = 20,000 N</p>
                <p>Area: \(A = \frac{\pi d^2}{4} = \frac{\pi \times 0.025^2}{4} = 4.91 \times 10^{-4} \text{ m}^2\)</p>
                <p>Stress: \(\sigma = \frac{P}{A} = \frac{20,000}{4.91 \times 10^{-4}} = 40.7 \text{ MPa}\)</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 2: Shear Stress Using Jourawski's Formula</h3>
            <p>A rectangular beam (100 mm × 200 mm) has a shear force of 80 kN. Calculate the maximum shear stress and the shear stress at 25 mm from the top.</p>
            
            <p class="toggle-section" onclick="toggleSolution('solution2')">Show Solution</p>
            <div id="solution2" class="hidden">
                <p>Given: b = 100 mm, h = 200 mm, V = 80 kN = 80,000 N</p>
                <p>Area: A = 100 × 200 = 20,000 mm²</p>
                <p>I = bh³/12 = 100 × 200³/12 = 66.67 × 10⁶ mm⁴</p>
                
                <p><strong>Maximum shear stress (at neutral axis):</strong></p>
                <p>Q = b × (h/2) × (h/4) = 100 × 100 × 50 = 500,000 mm³</p>
                <p>τ_max = VQ/(It) = (80,000 × 500,000)/(66.67 × 10⁶ × 100) = 6.0 MPa</p>
                
                <p><strong>Shear stress at 25 mm from top:</strong></p>
                <p>Distance from NA = 100 - 25 = 75 mm</p>
                <p>Q = 100 × 25 × (100 - 12.5) = 218,750 mm³</p>
                <p>τ = VQ/(It) = (80,000 × 218,750)/(66.67 × 10⁶ × 100) = 2.625 MPa</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 3: Bending Stress</h3>
            <p>A rectangular beam (80 mm × 150 mm) experiences a bending moment of 10 kN·m. Find the maximum bending stress.</p>
            
            <p class="toggle-section" onclick="toggleSolution('solution3')">Show Solution</p>
            <div id="solution3" class="hidden">
                <p>Given: b = 80 mm = 0.08 m, h = 150 mm = 0.15 m, M = 10 kN·m = 10,000 N·m</p>
                <p>Second moment of area: \(I = \frac{bh^3}{12} = \frac{0.08 \times 0.15^3}{12} = 2.25 \times 10^{-5} \text{ m}^4\)</p>
                <p>Distance to extreme fibre: \(c = \frac{h}{2} = 0.075 \text{ m}\)</p>
                <p>Maximum stress: \(\sigma_{max} = \frac{Mc}{I} = \frac{10,000 \times 0.075}{2.25 \times 10^{-5}} = 33.3 \text{ MPa}\)</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 4: Torsional Stress</h3>
            <p>A solid circular shaft (diameter 50 mm) transmits a torque of 2 kN·m. Calculate the maximum shear stress.</p>
            
            <p class="toggle-section" onclick="toggleSolution('solution4')">Show Solution</p>
            <div id="solution4" class="hidden">
                <p>Given: d = 50 mm = 0.05 m, T = 2 kN·m = 2,000 N·m</p>
                <p>Polar moment of inertia: \(J = \frac{\pi d^4}{32} = \frac{\pi \times 0.05^4}{32} = 6.14 \times 10^{-7} \text{ m}^4\)</p>
                <p>Radius: \(R = \frac{d}{2} = 0.025 \text{ m}\)</p>
                <p>Maximum shear stress: \(\tau_{max} = \frac{TR}{J} = \frac{2,000 \times 0.025}{6.14 \times 10^{-7}} = 81.4 \text{ MPa}\)</p>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h2>Knowledge Check Quiz</h2>
        <div class="quiz-container" id="quiz">
            <div class="quiz-question">
                <h3>Question 1: Which stress is uniform across a prismatic member's cross-section?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q1" value="a"> a) Bending stress</label>
                    <label><input type="radio" name="q1" value="b"> b) Axial stress</label>
                    <label><input type="radio" name="q1" value="c"> c) Shear stress</label>
                    <label><input type="radio" name="q1" value="d"> d) Torsional stress</label>
                </div>
            </div>
            
            <div class="quiz-question">
                <h3>Question 2: In Jourawski's formula τ = VQ/(It), what does Q represent?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q2" value="a"> a) Second moment of area</label>
                    <label><input type="radio" name="q2" value="b"> b) First moment of area above the cut</label>
                    <label><input type="radio" name="q2" value="c"> c) Total cross-sectional area</label>
                    <label><input type="radio" name="q2" value="d"> d) Width of the section</label>
                </div>
            </div>
            
            <div class="quiz-question">
                <h3>Question 3: In a circular shaft under torsion, shear stress varies:</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q3" value="a"> a) Parabolically with radius</label>
                    <label><input type="radio" name="q3" value="b"> b) Linearly with radius</label>
                    <label><input type="radio" name="q3" value="c"> c) Inversely with radius</label>
                    <label><input type="radio" name="q3" value="d"> d) Uniformly across the section</label>
                </div>
            </div>
            
            <div class="quiz-question">
                <h3>Question 4: Maximum shear stress in a rectangular beam occurs at:</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q4" value="a"> a) The top surface</label>
                    <label><input type="radio" name="q4" value="b"> b) The bottom surface</label>
                    <label><input type="radio" name="q4" value="c"> c) The neutral axis</label>
                    <label><input type="radio" name="q4" value="d"> d) The quarter points</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 5: When combining axial and bending stresses, the maximum stress occurs at:</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q5" value="a"> a) The neutral axis</label>
                    <label><input type="radio" name="q5" value="b"> b) The extreme fibers where stresses add constructively</label>
                    <label><input type="radio" name="q5" value="c"> c) The center of the cross-section</label>
                    <label><input type="radio" name="q5" value="d"> d) Uniformly across the entire section</label>
                </div>
            </div>

            <button id="submit-quiz">Submit Quiz</button>
            <div id="quiz-results"></div>
        </div>
    </div>

    <footer>
        <script src="/assets/common/footer.js"></script>
    </footer>

    <script>
        // toggleSolution function now loaded from /assets/common/problems.js

        // Quiz functionality - page-specific submitQuiz behavior
        document.addEventListener('DOMContentLoaded', function() {
            const quizBtn = document.getElementById('submit-quiz');
            if (quizBtn) {
                quizBtn.addEventListener('click', function() {
                    const answers = {
                        q1: 'b', // Axial stress is uniform
                        q2: 'b', // Q is first moment of area above cut
                        q3: 'b', // Shear stress varies linearly with radius
                        q4: 'c', // Maximum shear at neutral axis
                        q5: 'b'  // Max stress where stresses add constructively
                    };

                    let score = 0;
                    let totalQuestions = Object.keys(answers).length;
                    let resultsHTML = '<h3>Quiz Results:</h3>';

                    for (let question in answers) {
                        const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                        const correctAnswer = answers[question];

                        if (selectedOption) {
                            if (selectedOption.value === correctAnswer) {
                                score++;
                                resultsHTML += `<p style="color: #28a745; font-weight: bold;">${question.toUpperCase()}: Correct! ✓</p>`;
                            } else {
                                resultsHTML += `<p style="color: #dc3545; font-weight: bold;">${question.toUpperCase()}: Incorrect ✗</p>`;
                            }
                        } else {
                            resultsHTML += `<p style="color: #333;">${question.toUpperCase()}: Not answered</p>`;
                        }
                    }

                    const percentage = ((score / totalQuestions) * 100).toFixed(0);
                    resultsHTML = `<p style="font-size: 1.2em; font-weight: bold;">You scored ${score} out of ${totalQuestions} (${percentage}%)</p>` + resultsHTML;

                    document.getElementById('quiz-results').innerHTML = resultsHTML;
                });
            }
        });
    </script>

    <!-- Common JavaScript functions -->
    <script src="/assets/common/problems.js"></script>
    <script src="/assets/common/quizzes.js"></script>
</body>
</html>