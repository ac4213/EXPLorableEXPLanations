<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Balancing of Rotating Masses - Interactive Lecture</title>
<!-- Import p5.js library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<!-- Import MathJax for LaTeX rendering -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
<!-- External CSS -->
<link href="/assets/css/main.css" rel="stylesheet"/>
<link href="/assets/css/problems.css" rel="stylesheet"/>
<link href="/assets/css/quizzes.css" rel="stylesheet"/>
<link href="/assets/css/simulations.css" rel="stylesheet"/>
<link rel="stylesheet" href="/assets/css/uicontrols.css">
<!-- JavaScript for simulations -->
<script defer="" src="balancerot.js"></script>
<style>
        /* Page-specific styles */
        .status-value.balanced {
            color: #28a745;
        }

        .status-value.unbalanced {
            color: #dc3545;
        }

        /* Floating control panel styles */
        .control-panel {
            position: relative;
            z-index: 10;
        }

        .control-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 8px 16px;
            background-color: rgba(0, 123, 255, 0.9);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            z-index: 11;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .control-toggle:hover {
            background-color: rgba(0, 100, 220, 0.9);
        }

        /* Floating restore button - only visible when panel is hidden */
        .restore-controls-btn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            background-color: rgba(0, 123, 255, 0.7);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
        }

        .restore-controls-btn:hover {
            background-color: rgba(0, 123, 255, 0.9);
            transform: scale(1.05);
            box-shadow: 0 4px 16px rgba(0,0,0,0.4);
        }

        .restore-controls-btn.visible {
            display: block;
        }

        /* Small screens: floating, semi-transparent, concealable */
        @media (max-width: 768px) {
            .control-panel {
                position: fixed;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                max-width: 90%;
                background-color: rgba(249, 249, 249, 0.92);
                backdrop-filter: blur(8px);
                padding: 15px;
                border-radius: 10px;
                box-shadow: 0 4px 16px rgba(0,0,0,0.3);
                transition: transform 0.3s ease, opacity 0.3s ease;
                max-height: 60vh;
                overflow-y: auto;
                z-index: 100;
            }

            .control-panel.hidden {
                transform: translateX(-50%) translateY(150%);
                opacity: 0;
                pointer-events: none;
            }

            .control-row {
                flex-direction: column;
                gap: 8px !important;
            }

            /* Pack controls more horizontally */
            .control-group {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .control-group h4 {
                grid-column: 1 / -1;
                margin: 8px 0 4px 0;
            }

            .slider-row {
                grid-column: span 1;
                flex-direction: column;
                gap: 2px;
            }

            .slider-row .slider-label {
                font-size: 11px;
                min-width: auto;
            }

            .slider-row input[type="range"] {
                width: 100%;
            }

            .slider-row input[type="number"] {
                width: 60px;
                padding: 4px;
                font-size: 12px;
            }

            .button-row {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .control-button {
                padding: 8px 12px;
                font-size: 12px;
            }
        }

        /* Large screens: positioned to the side */
        @media (min-width: 769px) {
            .tab-content {
                display: none;
            }

            .tab-content.active {
                display: grid;
                grid-template-columns: 2fr 340px;
                gap: 20px;
                align-items: start;
            }

            .simulation-grid {
                grid-column: 1;
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 15px;
            }

            .control-panel {
                grid-column: 2;
                grid-row: 1 / span 2;
                background-color: #f9f9f9;
                padding: 15px;
                border-radius: 8px;
                max-height: calc(100vh - 100px);
                overflow-y: auto;
                position: sticky;
                top: 20px;
                align-self: start;
            }

            .status-display {
                grid-column: 1;
                grid-row: 2;
            }

            .control-toggle {
                display: none !important;
            }

            .control-row {
                flex-direction: column;
                gap: 10px;
            }

            .slider-row {
                display: flex;
                flex-direction: column;
                gap: 4px;
            }

            .slider-row .slider-label {
                font-size: 12px;
                font-weight: 500;
            }

            .button-row {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
<header>
<h1>Balancing of Rotating Masses</h1>
<p class="subtitle">Interactive Simulation &amp; Theory</p>
</header>
<div class="content-section">
<h2>Understanding Rotating Mass Unbalance</h2>
<h3>Static (Single Plane) Unbalance</h3>
<p>Static unbalance occurs when the centre of mass of a rotating system is displaced from the axis of rotation. Key characteristics:</p>
<ul>
<li>Can be detected when the rotor is stationary (heavy side rotates down)</li>
<li>Causes vibration perpendicular to the shaft axis</li>
<li>Can be corrected with a single balance mass in one plane</li>
</ul>
<div class="equation-box">
<p><strong>Centrifugal Force:</strong> \( F = m \cdot r \cdot \omega^2 \)</p>
<p>Where:</p>
<ul style="list-style: none;">
<li>\( m \) = unbalance mass (kg)</li>
<li>\( r \) = radius from axis (m)</li>
<li>\( \omega \) = angular velocity (rad/s)</li>
</ul>
</div>
<h3>Dynamic (Multi-Plane) Unbalance</h3>
<p>Dynamic unbalance occurs when there are multiple unbalanced masses in different axial planes along the shaft. This causes:</p>
<ul>
<li>Vibration in multiple planes</li>
<li>Varying reactions at the bearings</li>
<li>Both force and moment unbalance</li>
</ul>
<div class="key-point">
<p><strong>Important:</strong> Dynamic unbalance requires correction in at least two planes (two-plane balancing) to achieve both force and moment balance.</p>
</div>
</div>
<div class="simulation-container">
<h2>Interactive Simulations</h2>
<div class="tab-navigation">
<button class="tab-button active" onclick="switchTab(event,'single')">Single Plane Balancing</button>
<button class="tab-button" onclick="switchTab(event,'multi')">Multi-Plane Balancing</button>
</div>
<!-- Single Plane Simulation -->
<div class="tab-content active" id="single-tab">
<p>Explore single plane (static) unbalance. At 0 RPM, the shaft rotates to its stable position with the heavy side down.</p>
<div class="simulation-grid">
<div class="view-panel">
<span class="view-title">Side View</span>
<div id="single-side-view"></div>
</div>
<div class="view-panel">
<span class="view-title">Front View</span>
<div id="single-front-view"></div>
</div>
<div class="view-panel">
<span class="view-title">MR Polygon</span>
<div id="single-mr-diagram"></div>
</div>
<div class="view-panel">
<span class="view-title">Forces &amp; Reactions</span>
<div id="single-force-diagram"></div>
</div>
</div>
<div class="control-panel">
<div class="control-row">
<div class="control-group">
<h4>Shaft Speed</h4>
<div class="slider-row">
<span class="slider-label">RPM:</span>
<input id="single-rpm" max="180" min="0" step="10" type="range" value="0"/>
<input id="single-rpm-value" max="180" min="0" step="10" type="number" value="0"/>
</div>
</div>
</div>
<div class="control-row">
<div class="control-group">
<h4>Mass 1 (Red)</h4>
<div class="slider-row">
<span class="slider-label">Mass (g):</span>
<input id="single-mass1" max="150" min="0" step="5" type="range" value="60"/>
<input id="single-mass1-value" max="150" min="0" type="number" value="60"/>
</div>
<div class="slider-row">
<span class="slider-label">Radius (mm):</span>
<input id="single-radius1" max="100" min="20" step="5" type="range" value="60"/>
<input id="single-radius1-value" max="100" min="20" type="number" value="60"/>
</div>
<div class="slider-row">
<span class="slider-label">Angle (°):</span>
<input id="single-angle1" max="360" min="0" step="1" type="range" value="0"/>
<input id="single-angle1-value" max="360" min="0" step="1" type="number" value="0"/>
</div><div class="slider-row"><span class="slider-label">Position (%):</span><input disabled="disabled" id="single-position1" max="85" min="15" step="5" type="range" value="50"/><input disabled="disabled" id="single-position1-value" max="85" min="15" type="number" value="50"/></div>
</div>
<div class="control-group">
<h4>Mass 2 (Blue)</h4>
<div class="slider-row">
<span class="slider-label">Mass (g):</span>
<input id="single-mass2" max="150" min="0" step="5" type="range" value="80"/>
<input id="single-mass2-value" max="150" min="0" type="number" value="80"/>
</div>
<div class="slider-row">
<span class="slider-label">Radius (mm):</span>
<input id="single-radius2" max="100" min="20" step="5" type="range" value="80"/>
<input id="single-radius2-value" max="100" min="20" type="number" value="80"/>
</div>
<div class="slider-row">
<span class="slider-label">Angle (°):</span>
<input id="single-angle2" max="360" min="0" step="1" type="range" value="60"/>
<input id="single-angle2-value" max="360" min="0" step="1" type="number" value="60"/>
</div><div class="slider-row"><span class="slider-label">Position (%):</span><input disabled="disabled" id="single-position2" max="85" min="15" step="5" type="range" value="50"/><input disabled="disabled" id="single-position2-value" max="85" min="15" type="number" value="50"/></div>
</div>
<div class="control-group">
<h4>Mass 3 (Orange)</h4>
<div class="slider-row">
<span class="slider-label">Mass (g):</span>
<input id="single-mass3" max="150" min="0" step="5" type="range" value="50"/>
<input id="single-mass3-value" max="150" min="0" type="number" value="50"/>
</div>
<div class="slider-row">
<span class="slider-label">Radius (mm):</span>
<input id="single-radius3" max="100" min="20" step="5" type="range" value="50"/>
<input id="single-radius3-value" max="100" min="20" type="number" value="50"/>
</div>
<div class="slider-row">
<span class="slider-label">Angle (°):</span>
<input id="single-angle3" max="360" min="0" step="1" type="range" value="120"/>
<input id="single-angle3-value" max="360" min="0" step="1" type="number" value="120"/>
</div><div class="slider-row"><span class="slider-label">Position (%):</span><input disabled="disabled" id="single-position3" max="85" min="15" step="5" type="range" value="50"/><input disabled="disabled" id="single-position3-value" max="85" min="15" type="number" value="50"/></div>
</div>
</div>
<div class="button-row">
<button class="control-button" id="single-pause">Pause</button>
<button class="control-button" id="single-slowmo">Slow-mo</button>
<button class="control-button" id="single-apply">Apply Balance</button>
<button class="control-button" id="single-reset">Reset</button>
</div>
</div>
<div class="status-display">
<div class="status-grid">
<div class="status-item" id="single-status">
<div class="status-label">System Status</div>
<div class="status-value unbalanced">Unbalanced</div>
</div>
<div class="status-item">
<div class="status-label">Total Force</div>
<div class="status-value" id="single-force">0 N</div>
</div>
<div class="status-item">
<div class="status-label">Balance Mass Required at 80 mm</div>
<div class="status-value" id="single-balance-mass">-- g</div>
</div>
<div class="status-item">
<div class="status-label">Balance Angle</div>
<div class="status-value" id="single-balance-angle">-- °</div>
</div>
</div>
</div>
</div>
<!-- Multi-Plane Simulation -->
<div class="tab-content" id="multi-tab">
<p>Explore multi-plane (dynamic) unbalance with three adjustable masses. Balance is achieved using two correction planes near the bearings.</p>
<div class="simulation-grid">
<div class="view-panel">
<span class="view-title">Side View</span>
<div id="multi-side-view"></div>
</div>
<div class="view-panel">
<span class="view-title">Front View</span>
<div id="multi-front-view"></div>
</div>
<div class="view-panel">
<span class="view-title">MR Polygon</span>
<div id="multi-mr-diagram"></div>
</div>
<div class="view-panel">
<span class="view-title">MRL Polygon</span>
<div id="multi-mrl-diagram"></div>
</div>
</div>
<div class="control-panel">
<div class="control-row">
<div class="control-group">
<h4>Shaft Speed</h4>
<div class="slider-row">
<span class="slider-label">RPM:</span>
<input id="multi-rpm" max="180" min="0" step="10" type="range" value="0"/>
<input id="multi-rpm-value" max="180" min="0" step="10" type="number" value="0"/>
</div>
</div>
</div>
<div class="control-row">
<div class="control-group">
<h4>Mass 1 (Red)</h4>
<div class="slider-row">
<span class="slider-label">Mass (g):</span>
<input id="multi-mass1" max="150" min="0" step="5" type="range" value="60"/>
<input id="multi-mass1-value" max="150" min="0" type="number" value="60"/>
</div>
<div class="slider-row">
<span class="slider-label">Radius (mm):</span>
<input id="multi-radius1" max="100" min="20" step="5" type="range" value="60"/>
<input id="multi-radius1-value" max="100" min="20" type="number" value="60"/>
</div>
<div class="slider-row">
<span class="slider-label">Angle (°):</span>
<input id="multi-angle1" max="360" min="0" step="1" type="range" value="0"/>
<input id="multi-angle1-value" max="360" min="0" step="1" type="number" value="0"/>
</div>
<div class="slider-row">
<span class="slider-label">Position (%):</span>
<input id="multi-position1" max="85" min="15" step="5" type="range" value="25"/>
<input id="multi-position1-value" max="85" min="15" type="number" value="25"/>
</div>
</div>
<div class="control-group">
<h4>Mass 2 (Blue)</h4>
<div class="slider-row">
<span class="slider-label">Mass (g):</span>
<input id="multi-mass2" max="150" min="0" step="5" type="range" value="80"/>
<input id="multi-mass2-value" max="150" min="0" type="number" value="80"/>
</div>
<div class="slider-row">
<span class="slider-label">Radius (mm):</span>
<input id="multi-radius2" max="100" min="20" step="5" type="range" value="80"/>
<input id="multi-radius2-value" max="100" min="20" type="number" value="80"/>
</div>
<div class="slider-row">
<span class="slider-label">Angle (°):</span>
<input id="multi-angle2" max="360" min="0" step="1" type="range" value="60"/>
<input id="multi-angle2-value" max="360" min="0" step="1" type="number" value="60"/>
</div>
<div class="slider-row">
<span class="slider-label">Position (%):</span>
<input id="multi-position2" max="85" min="15" step="5" type="range" value="50"/>
<input id="multi-position2-value" max="85" min="15" type="number" value="50"/>
</div>
</div>
<div class="control-group">
<h4>Mass 3 (Orange)</h4>
<div class="slider-row">
<span class="slider-label">Mass (g):</span>
<input id="multi-mass3" max="150" min="0" step="5" type="range" value="50"/>
<input id="multi-mass3-value" max="150" min="0" type="number" value="50"/>
</div>
<div class="slider-row">
<span class="slider-label">Radius (mm):</span>
<input id="multi-radius3" max="100" min="20" step="5" type="range" value="50"/>
<input id="multi-radius3-value" max="100" min="20" type="number" value="50"/>
</div>
<div class="slider-row">
<span class="slider-label">Angle (°):</span>
<input id="multi-angle3" max="360" min="0" step="1" type="range" value="120"/>
<input id="multi-angle3-value" max="360" min="0" step="1" type="number" value="120"/>
</div>
<div class="slider-row">
<span class="slider-label">Position (%):</span>
<input id="multi-position3" max="85" min="15" step="5" type="range" value="75"/>
<input id="multi-position3-value" max="85" min="15" type="number" value="75"/>
</div>
</div>
</div>
<div class="button-row">
<button class="control-button" id="multi-pause">Pause</button>
<button class="control-button" id="multi-slowmo">Slow-mo</button>
<button class="control-button" id="multi-apply">Apply Balance</button>
<button class="control-button" id="multi-reset">Reset</button>
</div>
</div>
<div class="status-display">
<div class="status-grid">
<div class="status-item" id="multi-status">
<div class="status-label">System Status</div>
<div class="status-value unbalanced">Unbalanced</div>
</div>
<div class="status-item">
<div class="status-label">Unbalance Force</div>
<div class="status-value" id="multi-force">0 N</div>
</div>
<div class="status-item">
<div class="status-label">Unbalance Moment</div>
<div class="status-value" id="multi-moment">0 Nm</div>
</div>
<div class="status-item">
<div class="status-label">Plane L Balance at 80 mm</div>
<div class="status-value" id="multi-balance-a">L: -- g @ -- °</div>
</div>
<div class="status-item">
<div class="status-label">Plane M Balance at 80 mm</div>
<div class="status-value" id="multi-balance-b">M: -- g @ -- °</div>
</div>
</div>
</div>
</div>
</div>
<div class="content-section">
<h2>Balancing Procedure</h2>
<h3>Single Plane Balancing</h3>
<ol>
<li>Identify the magnitude and angular position of unbalance</li>
<li>Calculate required balance mass: \( m_b = \frac{MR_{unbalance}}{r_b} \)</li>
<li>Place balance mass at 180° opposite to the resultant unbalance</li>
</ol>
<h3>Two Plane Balancing</h3>
<p>For complete dynamic balance, we must satisfy two conditions:</p>
<div class="equation-box">
<p><strong>Force Balance:</strong> \( \sum MR = 0 \)</p>
<p><strong>Moment Balance:</strong> \( \sum MR \cdot L = 0 \)</p>
</div>
<p>This requires balance masses in two correction planes, typically near the bearings for maximum effectiveness.</p>
</div>
<script>
        function switchTab(event, tabName) {
            // Hide all tab content
            const tabContents = document.getElementsByClassName('tab-content');
            for (let content of tabContents) {
                content.classList.remove('active');
            }

            // Remove active class from all buttons
            const tabButtons = document.getElementsByClassName('tab-button');
            for (let button of tabButtons) {
                button.classList.remove('active');
            }

            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            event.currentTarget.classList.add('active');

            // Trigger window resize event to recalculate canvas sizes
            setTimeout(() => {
                window.dispatchEvent(new Event('resize'));
            }, 50);
        }

        // Add control panel toggle buttons for small screens
        document.addEventListener('DOMContentLoaded', function() {
            const controlPanels = document.querySelectorAll('.control-panel');

            controlPanels.forEach(function(panel) {
                // Create toggle button (inside panel)
                const toggleBtn = document.createElement('button');
                toggleBtn.className = 'control-toggle';
                toggleBtn.textContent = 'Hide Controls';
                toggleBtn.setAttribute('aria-label', 'Toggle controls visibility');

                // Create floating restore button (outside panel)
                const restoreBtn = document.createElement('button');
                restoreBtn.className = 'restore-controls-btn';
                restoreBtn.textContent = '⚙️ Show Controls';
                restoreBtn.setAttribute('aria-label', 'Show controls panel');
                document.body.appendChild(restoreBtn);

                // Insert toggle button at the beginning of panel
                panel.insertBefore(toggleBtn, panel.firstChild);

                // Add click handler for toggle button
                toggleBtn.addEventListener('click', function() {
                    panel.classList.add('hidden');
                    restoreBtn.classList.add('visible');
                });

                // Add click handler for restore button
                restoreBtn.addEventListener('click', function() {
                    panel.classList.remove('hidden');
                    restoreBtn.classList.remove('visible');
                });

                // Only show toggle button on small screens
                function updateToggleVisibility() {
                    if (window.innerWidth <= 768) {
                        toggleBtn.style.display = 'block';
                        // Keep restore button state as is
                    } else {
                        toggleBtn.style.display = 'none';
                        panel.classList.remove('hidden');
                        restoreBtn.classList.remove('visible');
                    }
                }

                updateToggleVisibility();
                window.addEventListener('resize', updateToggleVisibility);
            });
        });
    </script>

    <div class="content-section">
        <h2>Applications and Examples</h2>
        <p>Rotor balancing and rotational dynamics are critical in numerous mechanical systems:</p>
        <ul>
            <li><strong>Turbomachinery:</strong> Gas turbines, steam turbines, and jet engines require precise balancing to prevent vibration and catastrophic failure at high speeds.</li>
            <li><strong>Automotive:</strong> Engine crankshafts, drive shafts, and wheels must be balanced to ensure smooth operation and extend component life.</li>
            <li><strong>Power Generation:</strong> Generator rotors in power plants operate at high speeds and require meticulous balancing to maintain reliability.</li>
            <li><strong>Machine Tools:</strong> Grinding wheels, milling cutters, and spindles need balancing for precision and safety.</li>
            <li><strong>Aerospace:</strong> Helicopter rotor blades, propellers, and turbine engines all rely on careful balancing for safe operation.</li>
            <li><strong>HVAC Systems:</strong> Fans and blowers require balancing to minimize noise and vibration in buildings.</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>Practice Problems</h2>

        <div class="practice-problems">
            <h3>Problem 1: Single Plane Balancing of a Rotor</h3>
            <p>A rotating shaft has three unbalanced masses:</p>
            <ul>
                <li>Mass 1: 50 g at 80 mm radius, 0 degrees</li>
                <li>Mass 2: 40 g at 60 mm radius, 90 degrees</li>
                <li>Mass 3: 30 g at 70 mm radius, 180 degrees</li>
            </ul>
            <p>All masses are in the same plane. Calculate the magnitude and angle of the balance mass required at a radius of 75 mm.</p>

            <p class="toggle-section" onclick="toggleSolution('solution1')">Show Solution</p>
            <div id="solution1" class="hidden">
                <p><strong>Step 1: Calculate MR (mass times radius) for each mass</strong></p>
                <p>Mass 1: \(MR_1 = 50 \times 80 = 4000 \text{ g·mm}\) at 0°</p>
                <p>Mass 2: \(MR_2 = 40 \times 60 = 2400 \text{ g·mm}\) at 90°</p>
                <p>Mass 3: \(MR_3 = 30 \times 70 = 2100 \text{ g·mm}\) at 180°</p>

                <p><strong>Step 2: Resolve into x and y components</strong></p>
                <p>\(MR_{1x} = 4000 \cos(0°) = 4000 \text{ g·mm}\), \(MR_{1y} = 4000 \sin(0°) = 0 \text{ g·mm}\)</p>
                <p>\(MR_{2x} = 2400 \cos(90°) = 0 \text{ g·mm}\), \(MR_{2y} = 2400 \sin(90°) = 2400 \text{ g·mm}\)</p>
                <p>\(MR_{3x} = 2100 \cos(180°) = -2100 \text{ g·mm}\), \(MR_{3y} = 2100 \sin(180°) = 0 \text{ g·mm}\)</p>

                <p><strong>Step 3: Sum the components</strong></p>
                <p>\(\sum MR_x = 4000 + 0 - 2100 = 1900 \text{ g·mm}\)</p>
                <p>\(\sum MR_y = 0 + 2400 + 0 = 2400 \text{ g·mm}\)</p>

                <p><strong>Step 4: Calculate resultant unbalance</strong></p>
                <p>\(MR_{resultant} = \sqrt{1900^2 + 2400^2} = \sqrt{3,610,000 + 5,760,000} = 3063 \text{ g·mm}\)</p>
                <p>\(\theta = \tan^{-1}\left(\frac{2400}{1900}\right) = 51.6°\)</p>

                <p><strong>Step 5: Balance mass (opposite direction: 180° + 51.6° = 231.6°)</strong></p>
                <p>\(m_b = \frac{MR_{resultant}}{r_b} = \frac{3063}{75} = 40.8 \text{ g}\) at 231.6°</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 2: Two-Plane Balancing</h3>
            <p>A shaft 600 mm long has two unbalanced masses:</p>
            <ul>
                <li>Mass A: 60 g at 70 mm radius, 0°, located 150 mm from left bearing</li>
                <li>Mass B: 50 g at 80 mm radius, 120°, located 450 mm from left bearing</li>
            </ul>
            <p>Calculate the balance masses required in correction planes at the bearings (0 mm and 600 mm from left) at a radius of 65 mm.</p>

            <p class="toggle-section" onclick="toggleSolution('solution2')">Show Solution</p>
            <div id="solution2" class="hidden">
                <p><strong>Step 1: Calculate MR values</strong></p>
                <p>\(MR_A = 60 \times 70 = 4200 \text{ g·mm}\) at 0°, position L = 150 mm</p>
                <p>\(MR_B = 50 \times 80 = 4000 \text{ g·mm}\) at 120°, position L = 450 mm</p>

                <p><strong>Step 2: Resolve into components</strong></p>
                <p>Mass A: \(x = 4200\), \(y = 0\)</p>
                <p>Mass B: \(x = 4000 \cos(120°) = -2000\), \(y = 4000 \sin(120°) = 3464\)</p>

                <p><strong>Step 3: Force balance equations</strong></p>
                <p>\(\sum MR_x = 0: (MR_L)_x + (MR_R)_x + 4200 - 2000 = 0\)</p>
                <p>\(\sum MR_y = 0: (MR_L)_y + (MR_R)_y + 0 + 3464 = 0\)</p>

                <p><strong>Step 4: Moment balance about left bearing</strong></p>
                <p>\(\sum (MR \cdot L)_x = 0: (MR_R)_x \times 600 + 4200 \times 150 - 2000 \times 450 = 0\)</p>
                <p>\((MR_R)_x = \frac{900,000 - 630,000}{600} = 450 \text{ g·mm}\)</p>
                <p>\((MR_R)_y = \frac{3464 \times 450}{600} = 2598 \text{ g·mm}\)</p>

                <p><strong>Step 5: Calculate balance masses</strong></p>
                <p>Right plane: \(MR_R = \sqrt{450^2 + 2598^2} = 2637 \text{ g·mm}\), \(\theta_R = \tan^{-1}(2598/450) = 80.2°\)</p>
                <p>Balance mass at right: \(m_R = 2637/65 = 40.6 \text{ g}\) at (180° + 80.2°) = 260.2°</p>
                <p>Left plane: From force balance, \((MR_L)_x = -2650\), \((MR_L)_y = -866\)</p>
                <p>Balance mass at left: \(m_L = 2787/65 = 42.9 \text{ g}\) at 198.1°</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 3: Centrifugal Force Calculation</h3>
            <p>A rotor has an unbalance of 80 g at a radius of 100 mm. The rotor operates at 1800 RPM. Calculate:</p>
            <ol>
                <li>The centrifugal force generated</li>
                <li>The force if the speed is doubled to 3600 RPM</li>
            </ol>

            <p class="toggle-section" onclick="toggleSolution('solution3')">Show Solution</p>
            <div id="solution3" class="hidden">
                <p><strong>Given:</strong> \(m = 0.08 \text{ kg}\), \(r = 0.1 \text{ m}\), \(\omega = \frac{2\pi N}{60}\)</p>

                <p><strong>Part 1: At 1800 RPM</strong></p>
                <p>\(\omega = \frac{2\pi \times 1800}{60} = 188.5 \text{ rad/s}\)</p>
                <p>\(F = m \cdot r \cdot \omega^2 = 0.08 \times 0.1 \times (188.5)^2 = 283.5 \text{ N}\)</p>

                <p><strong>Part 2: At 3600 RPM</strong></p>
                <p>\(\omega = \frac{2\pi \times 3600}{60} = 377.0 \text{ rad/s}\)</p>
                <p>\(F = 0.08 \times 0.1 \times (377.0)^2 = 1134 \text{ N}\)</p>

                <p><strong>Conclusion:</strong> Doubling the rotational speed quadruples the centrifugal force! This demonstrates why rotor balancing becomes increasingly critical at higher speeds.</p>
            </div>
        </div>

    <div class="content-section">
        <h2>Summary of Key Equations</h2>
        <div class="equation-box">
            <table>
                <tr>
                    <th>Concept</th>
                    <th>Equation</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>Static Balance</td>
                    <td>\(\sum m_i r_i = 0\)</td>
                    <td>Sum of mass-radius products equals zero</td>
                </tr>
                <tr>
                    <td>Dynamic Balance</td>
                    <td>\(\sum m_i r_i = 0\) in all planes</td>
                    <td>Balance in multiple planes</td>
                </tr>
                <tr>
                    <td>Centrifugal Force</td>
                    <td>\(F = m r \omega^2\)</td>
                    <td>Outward force on rotating mass</td>
                </tr>
                <tr>
                    <td>Balancing Mass</td>
                    <td>\(m_b r_b = \sqrt{(\sum m_i r_i \cos\theta_i)^2 + (\sum m_i r_i \sin\theta_i)^2}\)</td>
                    <td>Required balancing mass-radius product</td>
                </tr>
                <tr>
                    <td>Balancing Angle</td>
                    <td>\(\theta_b = \arctan\left(\frac{\sum m_i r_i \sin\theta_i}{\sum m_i r_i \cos\theta_i}\right)\)</td>
                    <td>Angular position of balancing mass</td>
                </tr>
            </table>
        </div>
    </div>

        <h2>Knowledge Check Quiz</h2>
        <div class="quiz-container" id="quiz">
            <div class="quiz-question">
                <h3>Question 1: What is the difference between static and dynamic unbalance?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q1" value="a"> a) Static unbalance occurs at rest, dynamic only when rotating</label>
                    <label><input type="radio" name="q1" value="b"> b) Static can be corrected in one plane, dynamic requires two planes</label>
                    <label><input type="radio" name="q1" value="c"> c) Static is less serious than dynamic unbalance</label>
                    <label><input type="radio" name="q1" value="d"> d) There is no difference between them</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 2: The centrifugal force generated by an unbalanced mass is given by \(F = mr\omega^2\). If you double the rotational speed, the force increases by:</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q2" value="a"> a) 2 times</label>
                    <label><input type="radio" name="q2" value="b"> b) 3 times</label>
                    <label><input type="radio" name="q2" value="c"> c) 4 times</label>
                    <label><input type="radio" name="q2" value="d"> d) 8 times</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 3: In two-plane balancing, which conditions must be satisfied?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q3" value="a"> a) Only force balance</label>
                    <label><input type="radio" name="q3" value="b"> b) Only moment balance</label>
                    <label><input type="radio" name="q3" value="c"> c) Both force balance and moment balance</label>
                    <label><input type="radio" name="q3" value="d"> d) Neither force nor moment balance is required</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 4: A balance mass should be placed at what angle relative to the resultant unbalance vector?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q4" value="a"> a) Same angle (0 degrees offset)</label>
                    <label><input type="radio" name="q4" value="b"> b) 90 degrees offset</label>
                    <label><input type="radio" name="q4" value="c"> c) 180 degrees opposite</label>
                    <label><input type="radio" name="q4" value="d"> d) 270 degrees offset</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 5: Why is rotor balancing especially critical in high-speed machinery?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q5" value="a"> a) Centrifugal forces increase linearly with speed</label>
                    <label><input type="radio" name="q5" value="b"> b) Centrifugal forces increase with the square of speed</label>
                    <label><input type="radio" name="q5" value="c"> c) Static unbalance becomes more important</label>
                    <label><input type="radio" name="q5" value="d"> d) Balance masses become heavier at high speeds</label>
                </div>
            </div>

            <button id="submit-quiz">Submit Quiz</button>
            <div id="quiz-results"></div>
        </div>
    </div>

    <footer>
        <script src="/assets/common/footer.js"></script>
    </footer>

    <!-- Common JavaScript functions -->
    <script src="/assets/common/problems.js"></script>
    <script src="/assets/common/quizzes.js"></script>

    <script>
        // Quiz functionality
        document.addEventListener('DOMContentLoaded', function() {
            const quizBtn = document.getElementById('submit-quiz');
            if (quizBtn) {
                quizBtn.addEventListener('click', function() {
                    const answers = {
                        q1: 'b', // Static in one plane, dynamic in two planes
                        q2: 'c', // 4 times (square of speed)
                        q3: 'c', // Both force and moment balance
                        q4: 'c', // 180 degrees opposite
                        q5: 'b'  // Forces increase with square of speed
                    };

                    let score = 0;
                    let totalQuestions = Object.keys(answers).length;
                    let resultsHTML = '<h3>Quiz Results:</h3>';

                    for (let question in answers) {
                        const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                        const correctAnswer = answers[question];

                        if (selectedOption) {
                            if (selectedOption.value === correctAnswer) {
                                score++;
                                resultsHTML += `<p style="color: #28a745; font-weight: bold;">${question.toUpperCase()}: Correct! ✓</p>`;
                            } else {
                                resultsHTML += `<p style="color: #dc3545; font-weight: bold;">${question.toUpperCase()}: Incorrect ✗</p>`;
                            }
                        } else {
                            resultsHTML += `<p style="color: #333;">${question.toUpperCase()}: Not answered</p>`;
                        }
                    }

                    const percentage = ((score / totalQuestions) * 100).toFixed(0);
                    resultsHTML = `<p style="font-size: 1.2em; font-weight: bold;">You scored ${score} out of ${totalQuestions} (${percentage}%)</p>` + resultsHTML;

                    const resultsDiv = document.getElementById('quiz-results');
                    resultsDiv.innerHTML = resultsHTML;
                    resultsDiv.classList.remove('hidden');
                });
            }
        });
    </script>
</body>
</html>