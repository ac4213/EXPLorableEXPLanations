<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2DOFs Free Undamped Vibration - Interactive Lecture</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/problems.css">
    <link rel="stylesheet" href="/assets/css/quizzes.css">
    <link rel="stylesheet" href="/assets/css/simulations.css">
    <link rel="stylesheet" href="/assets/css/uicontrols.css">
</head>
<body>
    <header>
        <h1>2DOFs Free Vibration</h1>
        <p class="subtitle">Understanding Two Degree of Freedom Undamped Vibration Systems</p>
    </header>

    <div class="content-section">
        <h2>Understanding Two Degrees of Freedom (2DOF) Systems</h2>

        <h3>What are 2DOF Systems?</h3>
        <p>A two-degree-of-freedom (2DOF) system requires two independent coordinates to completely describe its motion. These systems are fundamental in structural dynamics and mechanical vibrations, representing the next level of complexity after single degree of freedom systems.</p>

        <div class="key-point">
            <p><strong>Key Characteristics:</strong></p>
            <ul>
                <li>Two independent displacement coordinates (x₁, x₂)</li>
                <li>Two natural frequencies (ω₁, ω₂)</li>
                <li>Two mode shapes describing independent vibration patterns</li>
                <li>Coupling between masses through springs or dampers</li>
            </ul>
        </div>

        <h3>Equations of Motion</h3>
        <div class="equation-box">
            <p>For a 2DOF undamped system with two masses connected by springs:</p>
            <p>\([M]\{\ddot{x}\} + [K]\{x\} = \{0\}\)</p>
            <p>Where:</p>
            <ul style="list-style: none;">
                <li>\([M]\) = Mass matrix = \(\begin{bmatrix} m_1 & 0 \\ 0 & m_2 \end{bmatrix}\)</li>
                <li>\([K]\) = Stiffness matrix = \(\begin{bmatrix} k_1+k_2 & -k_2 \\ -k_2 & k_2 \end{bmatrix}\)</li>
                <li>\(\{x\}\) = Displacement vector = \(\begin{bmatrix} x_1 \\ x_2 \end{bmatrix}\)</li>
            </ul>
        </div>

        <h3>Natural Frequencies and Mode Shapes</h3>
        <p>The natural frequencies are found by solving the eigenvalue problem:</p>
        <div class="equation-box">
            <p>\(\det([K] - \omega^2[M]) = 0\)</p>
            <p>This yields two natural frequencies: \(\omega_1\) and \(\omega_2\) where \(\omega_1 < \omega_2\)</p>
            <p>Each natural frequency has an associated mode shape that describes the relative motion of the two masses.</p>
        </div>

        <div class="key-point">
            <p><strong>Mode Shapes:</strong> Each mode shape represents a pattern of motion where all parts of the system oscillate at the same frequency and pass through equilibrium simultaneously. The two masses move in-phase for the first mode and out-of-phase for the second mode.</p>
        </div>

        <h3>Applications</h3>
        <ul>
            <li><strong>Vehicle Suspensions:</strong> Modeling car body and wheel masses</li>
            <li><strong>Building Structures:</strong> Two-story building analysis</li>
            <li><strong>Machine Foundations:</strong> Equipment mounted on flexible structures</li>
            <li><strong>Mechanical Systems:</strong> Coupled oscillators in machinery</li>
        </ul>
    </div>

    <div class="simulation-section">
        <h2>Interactive Simulation</h2>
        <p>This simulation demonstrates the free vibration response of a 2DOF system. The visualization shows three different scenarios:</p>
        <ul>
            <li><strong>Mode 1:</strong> Both masses oscillate in-phase at the first natural frequency</li>
            <li><strong>Mode 2:</strong> Masses oscillate out-of-phase at the second natural frequency</li>
            <li><strong>Free Vibration:</strong> Combined response from initial conditions (x₁=0, x₂=1)</li>
        </ul>

        <div id="button-container">
            <button id="animateBtn">Start Animation</button>
        </div>

        <div id="sketch-holder"></div>
    </div>

    <script>
        // Animation variables
        let animating = false;
        let t = 0;
        let dt = 0.01;
        let timeArray = [];
        let maxTime = 2;
        let animationSpeed = 0.67; // Slows down animation to take 3 seconds
        
        // Layout variables
        let boxSize = 40;
        let boxSpacing = 150; // Increased spacing between boxes
        let yPosition = 120;  // Reduced vertical position of first row
        let rowSpacing = 200; // Increased spacing between rows
        let plotWidth = 300;
        let plotHeight = 150;
        
        // System parameters
        let m1 = 1; // kg
        let m2 = 1; // kg
        let k1 = 1000; // N/m
        let k2 = 1000; // N/m
        
        // Compute eigenvalues and eigenvectors
        let M, K, Omegan, X;
        let mode1Data = [];
        let mode2Data = [];
        let freeVibData1 = [];
        let freeVibData2 = [];
        
        function setupSystem() {
            // Mass matrix
            M = [[m1, 0], [0, m2]];
            
            // Stiffness matrix
            K = [[k1 + k2, -k2], [-k2, k2]];
            
            // Natural frequencies (rad/s)
            Omegan = [Math.sqrt(1000), Math.sqrt(2000)];
            
            // Mode shapes (eigenvectors) - normalized
            X = [
                [1, 1],       // First mass, modes 1 & 2
                [1, -1]       // Second mass, modes 1 & 2
            ];
            
            // Initial conditions
            let x0 = [0, 1];
            let xdot0 = [0, 0];
            
            // Transform to modal coordinates
            let q0 = solveSystem([[X[0][0], X[0][1]], [X[1][0], X[1][1]]], x0);
            let p0 = solveSystem([[X[0][0], X[0][1]], [X[1][0], X[1][1]]], xdot0);
            
            // Modal parameters
            let A = [p0[0]/Omegan[0], p0[1]/Omegan[1]];
            let B = [q0[0], q0[1]];
            
            // Precompute data for plots
            timeArray = [];
            mode1Data = [];
            mode2Data = [];
            freeVibData1 = [];
            freeVibData2 = [];
            
            for (let t = 0; t <= maxTime; t += dt) {
                timeArray.push(t);
                
                // Modal solutions
                let q1 = A[0] * Math.sin(Omegan[0] * t) + B[0] * Math.cos(Omegan[0] * t);
                let q2 = A[1] * Math.sin(Omegan[1] * t) + B[1] * Math.cos(Omegan[1] * t);
                
                mode1Data.push(q1);
                mode2Data.push(q2);
                
                // Physical solutions
                let x1 = X[0][0] * q1 + X[0][1] * q2;
                let x2 = X[1][0] * q1 + X[1][1] * q2;
                
                freeVibData1.push(x1);
                freeVibData2.push(x2);
            }
        }
        
        // Helper function to solve a 2x2 system
        function solveSystem(A, b) {
            let det = A[0][0] * A[1][1] - A[0][1] * A[1][0];
            let x = [(A[1][1] * b[0] - A[0][1] * b[1]) / det, (-A[1][0] * b[0] + A[0][0] * b[1]) / det];
            return x;
        }
        
        function setup() {
            setupSystem();

            let canvas = createCanvas(900, 750); // Increased canvas width and height
            canvas.parent('sketch-holder');
            canvas.style('display', 'block');
            canvas.style('margin', '0 auto');
            
            // Setup animate button
            let animateBtn = document.getElementById('animateBtn');
            animateBtn.addEventListener('click', function() {
                animating = !animating;
                if (animating) {
                    animateBtn.textContent = 'Stop Animation';
                } else {
                    animateBtn.textContent = 'Start Animation';
                }
            });
        }
        
        function draw() {
            background(255);
            
            if (animating) {
                t += dt * animationSpeed;
                if (t > maxTime) t = 0;
            }
            
            let timeIndex = Math.floor(t / dt);
            if (timeIndex >= timeArray.length) timeIndex = timeArray.length - 1;
            
            // Scale factor for visualization
            let sf = 30;
            
            // Mode 1 visualization
            drawModeVisualization(1, yPosition, "Mode #1", sf * X[0][0] * Math.sin(Omegan[0] * t), sf * X[1][0] * Math.sin(Omegan[0] * t), 'blue');
            drawTimePlot(430, yPosition, "Mode #1 Time History", timeArray, mode1Data, t, 'blue');
            
            // Mode 2 visualization
            drawModeVisualization(1, yPosition + rowSpacing, "Mode #2", sf * X[0][1] * Math.sin(Omegan[1] * t), sf * X[1][1] * Math.sin(Omegan[1] * t), 'red');
            drawTimePlot(430, yPosition + rowSpacing, "Mode #2 Time History", timeArray, mode2Data, t, 'red');
            
            // Free vibration visualization
            drawModeVisualization(1, yPosition + 2 * rowSpacing, "Free Vibration I.C. x₁=0, x₂=1", sf * freeVibData1[timeIndex], sf * freeVibData2[timeIndex], 'magenta', 'black');
            
            // Special case for the third row - with consistent title format
            push();
            translate(430, yPosition + 2 * rowSpacing);
            
            // Title well above the plot - same style as other plots
            fill(0);
            textAlign(CENTER);
            textSize(14);
            text("Free Vibration Time History", plotWidth/2, -plotHeight/2 - 30);
            text("t=" + t.toFixed(4), plotWidth/2, -plotHeight/2 - 10);
            
            // Draw axes
            stroke(0);
            strokeWeight(1);
            line(0, 0, plotWidth, 0);  // x-axis
            line(0, -plotHeight/2, 0, plotHeight/2);  // y-axis
            
            // Draw ticks and labels on x-axis
            textSize(10); // Smaller text for axis labels
            for (let i = 0; i <= maxTime; i += 0.5) {
                let xPos = map(i, 0, maxTime, 0, plotWidth);
                line(xPos, -3, xPos, 3);
                text(i.toFixed(1), xPos, 15);
            }
            
            // Draw ticks and labels on y-axis
            for (let i = -1; i <= 1; i += 0.5) {
                let yPos = map(i, -1, 1, plotHeight/2, -plotHeight/2);
                line(-3, yPos, 3, yPos);
                text(i.toFixed(1), -15, yPos + 3);
            }
            
            // Draw first dataset
            noFill();
            stroke('magenta');
            strokeWeight(1.5);
            beginShape();
            for (let i = 0; i < timeArray.length; i++) {
                let xPos = map(timeArray[i], 0, maxTime, 0, plotWidth);
                let yPos = map(freeVibData1[i], -1, 1, plotHeight/2, -plotHeight/2);
                vertex(xPos, yPos);
            }
            endShape();
            
            // Draw second dataset
            stroke('black');
            beginShape();
            for (let i = 0; i < timeArray.length; i++) {
                let xPos = map(timeArray[i], 0, maxTime, 0, plotWidth);
                let yPos = map(freeVibData2[i], -1, 1, plotHeight/2, -plotHeight/2);
                vertex(xPos, yPos);
            }
            endShape();
            
            // Draw vertical time indicator
            stroke(0);
            strokeWeight(2);
            drawingContext.setLineDash([5, 5]);
            let timePos = map(t, 0, maxTime, 0, plotWidth);
            line(timePos, -plotHeight/2, timePos, plotHeight/2);
            drawingContext.setLineDash([]);
            pop();
        }
        
        function drawModeVisualization(x, y, title, disp1, disp2, color1, color2 = null) {
            push();
            translate(x, y);
            
            // Title - moved much higher
            fill(0);
            textAlign(CENTER);
            textSize(14);
            text(title, 150, -50);
            
            // Draw coordinate system
            stroke(0);
            strokeWeight(1);
            line(0, 0, 350, 0);
            line(0, -100, 0, 100);
            
            // Base positions for boxes
            let box1BaseX = boxSize + 10;
            let box2BaseX = boxSize + 10 + boxSpacing;
            
            // Draw static boxes (dashed)
            drawDashedRect(box1BaseX, -boxSize/2, boxSize, boxSize);
            drawDashedRect(box2BaseX, -boxSize/2, boxSize, boxSize);
            
            // Calculate displacements
            let x1Disp = Number(disp1) || 0;
            let x2Disp = Number(disp2) || 0;
            
            // Draw dynamic boxes - ensuring all values are numeric
            if (color2 === null) {
                // Single color mode for both boxes
                stroke(color1);
                strokeWeight(2);
                noFill();
                
                // First box
                rect(box1BaseX + x1Disp, -boxSize/2, boxSize, boxSize);
                
                // Second box
                rect(box2BaseX + x2Disp, -boxSize/2, boxSize, boxSize);
            } else {
                // Two color mode
                // First box
                stroke(color1);
                strokeWeight(2);
                noFill();
                rect(box1BaseX + x1Disp, -boxSize/2, boxSize, boxSize);
                
                // Second box
                stroke(color2);
                strokeWeight(2);
                noFill();
                rect(box2BaseX + x2Disp, -boxSize/2, boxSize, boxSize);
            }
            
            pop();
        }
        
        function drawTimePlot(x, y, title, timeData, valueData, currentTime, color, valueData2 = null, color2 = null) {
            push();
            translate(x, y);
            
            // Title - moved much higher
            fill(0);
            textAlign(CENTER);
            textSize(14);
            text(title, plotWidth/2, -50); 
            
            // Draw axes
            stroke(0);
            strokeWeight(1);
            line(0, 0, plotWidth, 0);  // x-axis
            line(0, -plotHeight/2, 0, plotHeight/2);  // y-axis
            
            // Draw ticks and labels on x-axis
            textSize(10); // Smaller text for axis labels
            for (let i = 0; i <= maxTime; i += 0.5) {
                let xPos = map(i, 0, maxTime, 0, plotWidth);
                line(xPos, -3, xPos, 3);
                text(i.toFixed(1), xPos, 15);
            }
            
            // Draw ticks and labels on y-axis
            for (let i = -1; i <= 1; i += 0.5) {
                let yPos = map(i, -1, 1, plotHeight/2, -plotHeight/2);
                line(-3, yPos, 3, yPos);
                text(i.toFixed(1), -15, yPos + 3);
            }
            
            // Draw data before the vertical line to ensure line is on top
            noFill();
            
            // Draw first dataset
            stroke(color);
            strokeWeight(1.5);
            beginShape();
            for (let i = 0; i < timeData.length; i++) {
                let xPos = map(timeData[i], 0, maxTime, 0, plotWidth);
                let yPos = map(valueData[i], -1, 1, plotHeight/2, -plotHeight/2);
                vertex(xPos, yPos);
            }
            endShape();
            
            // Draw second dataset if provided
            if (valueData2 !== null && color2 !== null) {
                stroke(color2);
                beginShape();
                for (let i = 0; i < timeData.length; i++) {
                    let xPos = map(timeData[i], 0, maxTime, 0, plotWidth);
                    let yPos = map(valueData2[i], -1, 1, plotHeight/2, -plotHeight/2);
                    vertex(xPos, yPos);
                }
                endShape();
            }
            
            // Draw vertical time indicator
            stroke(0);
            strokeWeight(2);
            drawingContext.setLineDash([5, 5]);
            let timePos = map(currentTime, 0, maxTime, 0, plotWidth);
            line(timePos, -plotHeight/2, timePos, plotHeight/2);
            drawingContext.setLineDash([]);
            pop();
        }
        
        function drawDashedRect(x, y, w, h) {
            push();
            stroke(0);
            strokeWeight(1);
            drawingContext.setLineDash([5, 5]);
            noFill();
            rect(x, y, w, h);
            drawingContext.setLineDash([]);
            pop();
        }
    </script>

    <div class="content-section">
        <h2>Engineering Applications</h2>
        <p>Two degree of freedom systems are fundamental models in structural dynamics and mechanical engineering:</p>
        <ul>
            <li><strong>Building Structures:</strong> Two-story buildings can be modeled as 2DOF systems to predict earthquake response and design damping systems.</li>
            <li><strong>Vehicle Dynamics:</strong> Pitch and bounce motion of vehicles on suspension systems are analyzed using 2DOF models for ride comfort optimization.</li>
            <li><strong>Coupled Oscillators:</strong> Vibration absorbers and tuned mass dampers use 2DOF analysis to suppress structural vibrations.</li>
            <li><strong>Molecular Physics:</strong> Diatomic molecules and coupled pendulums exhibit 2DOF behavior with normal modes.</li>
            <li><strong>Rotating Machinery:</strong> Rotor-bearing systems with two degrees of freedom (horizontal and vertical) require 2DOF analysis for stability.</li>
            <li><strong>Control Systems:</strong> Multi-input multi-output (MIMO) controllers for coupled systems use 2DOF models for analysis and design.</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>Summary of Key Equations</h2>
        <div class="equation-box">
            <table>
                <tr>
                    <th>Concept</th>
                    <th>Equation</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>Equations of Motion</td>
                    <td>\(\mathbf{M}\ddot{\mathbf{x}} + \mathbf{K}\mathbf{x} = \mathbf{0}\)</td>
                    <td>Matrix form for 2DOF system</td>
                </tr>
                <tr>
                    <td>Eigenvalue Problem</td>
                    <td>\((\mathbf{K} - \omega^2\mathbf{M})\mathbf{\Phi} = \mathbf{0}\)</td>
                    <td>Solve for natural frequencies</td>
                </tr>
                <tr>
                    <td>Natural Frequencies</td>
                    <td>\(\omega_1, \omega_2\)</td>
                    <td>Two distinct natural frequencies</td>
                </tr>
                <tr>
                    <td>Mode Shapes</td>
                    <td>\(\mathbf{\Phi}_1, \mathbf{\Phi}_2\)</td>
                    <td>Relative motion patterns</td>
                </tr>
                <tr>
                    <td>General Solution</td>
                    <td>\(\mathbf{x}(t) = C_1\mathbf{\Phi}_1\cos(\omega_1 t) + C_2\mathbf{\Phi}_2\cos(\omega_2 t)\)</td>
                    <td>Free vibration response</td>
                </tr>
            </table>
        </div>
    </div>

    <div class="content-section">
        <h2>Practice Problems</h2>

        <div class="practice-problems">
            <h3>Problem 1: Natural Frequencies of a 2-DOF System</h3>
            <p>A two-degree-of-freedom system has two masses \(m_1 = 2 \text{ kg}\) and \(m_2 = 3 \text{ kg}\) connected by springs with stiffnesses \(k_1 = 500 \text{ N/m}\) and \(k_2 = 800 \text{ N/m}\). Calculate the two natural frequencies of the system.</p>

            <p class="toggle-section" onclick="toggleSolution('solution1')">Show Solution</p>
            <div id="solution1" class="hidden">
                <p><strong>Step 1: Set up the mass and stiffness matrices</strong></p>
                <p>\([M] = \begin{bmatrix} 2 & 0 \\ 0 & 3 \end{bmatrix}\), \([K] = \begin{bmatrix} 1300 & -800 \\ -800 & 800 \end{bmatrix}\)</p>

                <p><strong>Step 2: Formulate eigenvalue problem</strong></p>
                <p>The natural frequencies are found from: \(\det([K] - \omega^2[M]) = 0\)</p>
                <p>\(\det \begin{bmatrix} 1300-2\omega^2 & -800 \\ -800 & 800-3\omega^2 \end{bmatrix} = 0\)</p>

                <p><strong>Step 3: Expand the determinant</strong></p>
                <p>\((1300-2\omega^2)(800-3\omega^2) - (-800)^2 = 0\)</p>
                <p>\(1,040,000 - 3900\omega^2 - 1600\omega^2 + 6\omega^4 - 640,000 = 0\)</p>
                <p>\(6\omega^4 - 5500\omega^2 + 400,000 = 0\)</p>

                <p><strong>Step 4: Solve the quadratic in \(\omega^2\)</strong></p>
                <p>Let \(x = \omega^2\): \(6x^2 - 5500x + 400,000 = 0\)</p>
                <p>\(x = \frac{5500 \pm \sqrt{5500^2 - 4(6)(400,000)}}{12} = \frac{5500 \pm \sqrt{20,650,000}}{12}\)</p>
                <p>\(\omega_1^2 = 92.5 \text{ rad}^2/\text{s}^2\), \(\omega_2^2 = 824.2 \text{ rad}^2/\text{s}^2\)</p>

                <p><strong>Natural frequencies:</strong></p>
                <p>\(\omega_1 = 9.62 \text{ rad/s} = 1.53 \text{ Hz}\)</p>
                <p>\(\omega_2 = 28.71 \text{ rad/s} = 4.57 \text{ Hz}\)</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 2: Mode Shapes and Modal Analysis</h3>
            <p>For a 2-DOF system with equal masses \(m_1 = m_2 = 1 \text{ kg}\) and spring constants \(k_1 = k_2 = k = 1000 \text{ N/m}\), determine:</p>
            <ol>
                <li>The natural frequencies</li>
                <li>The mode shapes</li>
                <li>Describe the physical motion in each mode</li>
            </ol>

            <p class="toggle-section" onclick="toggleSolution('solution2')">Show Solution</p>
            <div id="solution2" class="hidden">
                <p><strong>Step 1: Natural frequencies</strong></p>
                <p>\([M] = \begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix}\), \([K] = \begin{bmatrix} 2k & -k \\ -k & k \end{bmatrix} = \begin{bmatrix} 2000 & -1000 \\ -1000 & 1000 \end{bmatrix}\)</p>

                <p>Solving \(\det([K] - \omega^2[M]) = 0\):</p>
                <p>\(\omega_1 = \sqrt{1000} = 31.62 \text{ rad/s}\) (lower frequency)</p>
                <p>\(\omega_2 = \sqrt{2000} = 44.72 \text{ rad/s}\) (higher frequency)</p>

                <p><strong>Step 2: Mode shapes</strong></p>
                <p><strong>Mode 1:</strong> Substitute \(\omega_1^2 = 1000\) into \(([K] - \omega^2[M])\{X\} = 0\)</p>
                <p>\(\begin{bmatrix} 1000 & -1000 \\ -1000 & 0 \end{bmatrix} \begin{bmatrix} X_1 \\ X_2 \end{bmatrix} = 0\)</p>
                <p>Mode shape: \(\{X_1\} = \begin{bmatrix} 1 \\ 1 \end{bmatrix}\) (normalized)</p>

                <p><strong>Mode 2:</strong> Substitute \(\omega_2^2 = 2000\)</p>
                <p>Mode shape: \(\{X_2\} = \begin{bmatrix} 1 \\ -1 \end{bmatrix}\) (normalized)</p>

                <p><strong>Step 3: Physical interpretation</strong></p>
                <p><strong>Mode 1 (in-phase):</strong> Both masses move in the same direction with equal amplitude. The middle spring experiences no deformation.</p>
                <p><strong>Mode 2 (out-of-phase):</strong> Masses move in opposite directions with equal amplitude. The middle spring experiences maximum deformation.</p>
            </div>
        </div>

        <div class="practice-problems">
            <h3>Problem 3: Free Vibration Response</h3>
            <p>A 2-DOF system has natural frequencies \(\omega_1 = 10 \text{ rad/s}\) and \(\omega_2 = 30 \text{ rad/s}\) with mode shapes \(\{X_1\} = [1, 1]^T\) and \(\{X_2\} = [1, -1]^T\). If the system is released from rest with initial displacements \(x_1(0) = 0\) and \(x_2(0) = 2 \text{ cm}\), determine the response equations for both masses.</p>

            <p class="toggle-section" onclick="toggleSolution('solution3')">Show Solution</p>
            <div id="solution3" class="hidden">
                <p><strong>Step 1: Transform initial conditions to modal coordinates</strong></p>
                <p>Modal matrix: \([X] = \begin{bmatrix} 1 & 1 \\ 1 & -1 \end{bmatrix}\)</p>
                <p>Initial modal displacements: \(\{q(0)\} = [X]^{-1}\{x(0)\} = \frac{1}{2}\begin{bmatrix} 1 & 1 \\ 1 & -1 \end{bmatrix}\begin{bmatrix} 0 \\ 2 \end{bmatrix} = \begin{bmatrix} 1 \\ -1 \end{bmatrix}\) cm</p>
                <p>Initial modal velocities: \(\{\dot{q}(0)\} = \begin{bmatrix} 0 \\ 0 \end{bmatrix}\) (released from rest)</p>

                <p><strong>Step 2: Modal responses</strong></p>
                <p>\(q_1(t) = 1 \cos(10t)\) cm</p>
                <p>\(q_2(t) = -1 \cos(30t)\) cm</p>

                <p><strong>Step 3: Physical coordinates</strong></p>
                <p>\(\{x(t)\} = [X]\{q(t)\} = \begin{bmatrix} 1 & 1 \\ 1 & -1 \end{bmatrix}\begin{bmatrix} \cos(10t) \\ -\cos(30t) \end{bmatrix}\)</p>

                <p><strong>Final response equations:</strong></p>
                <p>\(x_1(t) = \cos(10t) - \cos(30t)\) cm</p>
                <p>\(x_2(t) = \cos(10t) + \cos(30t)\) cm</p>

                <p><strong>Note:</strong> The response is a superposition of both natural modes, creating a beating phenomenon.</p>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h2>Knowledge Check Quiz</h2>
        <div class="quiz-container" id="quiz">
            <div class="quiz-question">
                <h3>Question 1: How many natural frequencies does a 2DOF system have?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q1" value="a"> a) One</label>
                    <label><input type="radio" name="q1" value="b"> b) Two</label>
                    <label><input type="radio" name="q1" value="c"> c) Three</label>
                    <label><input type="radio" name="q1" value="d"> d) Infinite</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 2: In a 2DOF system, what is the relationship between the two natural frequencies?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q2" value="a"> a) They are always equal</label>
                    <label><input type="radio" name="q2" value="b"> b) The second is always higher than the first (ω₂ > ω₁)</label>
                    <label><input type="radio" name="q2" value="c"> c) The second is always lower than the first</label>
                    <label><input type="radio" name="q2" value="d"> d) There is no fixed relationship</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 3: What characterizes a mode shape in a 2DOF system?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q3" value="a"> a) Only one mass moves</label>
                    <label><input type="radio" name="q3" value="b"> b) The relative amplitudes and phase relationship between the two masses</label>
                    <label><input type="radio" name="q3" value="c"> c) The color of the masses</label>
                    <label><input type="radio" name="q3" value="d"> d) The material properties only</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 4: What happens when both modes of a 2DOF system are excited simultaneously?</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q4" value="a"> a) The system cannot vibrate</label>
                    <label><input type="radio" name="q4" value="b"> b) Only the first mode appears</label>
                    <label><input type="radio" name="q4" value="c"> c) The response shows beating behavior with both frequencies present</label>
                    <label><input type="radio" name="q4" value="d"> d) The system vibrates at a single average frequency</label>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Question 5: The eigenvalue problem for finding natural frequencies is:</h3>
                <div class="quiz-options">
                    <label><input type="radio" name="q5" value="a"> a) det([M] + [K]) = 0</label>
                    <label><input type="radio" name="q5" value="b"> b) det([K] - ω²[M]) = 0</label>
                    <label><input type="radio" name="q5" value="c"> c) [M][K] = 0</label>
                    <label><input type="radio" name="q5" value="d"> d) ω² = k/m</label>
                </div>
            </div>

            <button id="submit-quiz">Submit Quiz</button>
            <div id="quiz-results"></div>
        </div>
    </div>

    <!-- Common JavaScript functions -->
    <script src="/assets/common/problems.js"></script>
    <script src="/assets/common/quizzes.js"></script>

    <script>
        // Quiz functionality
        document.addEventListener('DOMContentLoaded', function() {
            const quizBtn = document.getElementById('submit-quiz');
            if (quizBtn) {
                quizBtn.addEventListener('click', function() {
                    const answers = {
                        q1: 'b', // Two natural frequencies
                        q2: 'b', // Second is always higher
                        q3: 'b', // Relative amplitudes and phase
                        q4: 'c', // Beating behavior
                        q5: 'b'  // det([K] - ω²[M]) = 0
                    };

                    let score = 0;
                    let totalQuestions = Object.keys(answers).length;
                    let resultsHTML = '<h3>Quiz Results:</h3>';

                    for (let question in answers) {
                        const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                        const correctAnswer = answers[question];

                        if (selectedOption) {
                            if (selectedOption.value === correctAnswer) {
                                score++;
                                resultsHTML += `<p style="color: #28a745; font-weight: bold;">${question.toUpperCase()}: Correct! ✓</p>`;
                            } else {
                                resultsHTML += `<p style="color: #dc3545; font-weight: bold;">${question.toUpperCase()}: Incorrect ✗</p>`;
                            }
                        } else {
                            resultsHTML += `<p style="color: #333;">${question.toUpperCase()}: Not answered</p>`;
                        }
                    }

                    const percentage = ((score / totalQuestions) * 100).toFixed(0);
                    resultsHTML = `<p style="font-size: 1.2em; font-weight: bold;">You scored ${score} out of ${totalQuestions} (${percentage}%)</p>` + resultsHTML;

                    document.getElementById('quiz-results').innerHTML = resultsHTML;
                });
            }
        });
    </script>

    <footer>
        <script src="/assets/common/footer.js"></script>
    </footer>
</body>
</html>